/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/matches/results/route";
exports.ids = ["app/api/matches/results/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Fresults%2Froute&page=%2Fapi%2Fmatches%2Fresults%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Fresults%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Fresults%2Froute&page=%2Fapi%2Fmatches%2Fresults%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Fresults%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_src_app_api_matches_results_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/matches/results/route.ts */ \"(rsc)/./src/app/api/matches/results/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/matches/results/route\",\n        pathname: \"/api/matches/results\",\n        filename: \"route\",\n        bundlePath: \"app/api/matches/results/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/matches/results/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_matches_results_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZtYXRjaGVzJTJGcmVzdWx0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWF0Y2hlcyUyRnJlc3VsdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtYXRjaGVzJTJGcmVzdWx0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNXO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL21hdGNoZXMvcmVzdWx0cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWF0Y2hlcy9yZXN1bHRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWF0Y2hlcy9yZXN1bHRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tYXRjaGVzL3Jlc3VsdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL21hdGNoZXMvcmVzdWx0cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Fresults%2Froute&page=%2Fapi%2Fmatches%2Fresults%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Fresults%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/matches/results/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/matches/results/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n\n\nasync function GET(request) {\n    try {\n        const db = new _lib_database__WEBPACK_IMPORTED_MODULE_1__.DatabaseService();\n        const searchParams = request.nextUrl.searchParams;\n        const page = parseInt(searchParams.get('page') || '1');\n        const limit = parseInt(searchParams.get('limit') || '50');\n        const offset = (page - 1) * limit;\n        const result = db.getMatches('completed', limit, offset);\n        const response = {\n            matches: result.matches,\n            total: result.total,\n            page,\n            per_page: limit,\n            has_next: offset + limit < result.total\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: response\n        });\n    } catch (error) {\n        console.error('Error fetching completed matches:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Failed to fetch completed matches'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tYXRjaGVzL3Jlc3VsdHMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ1A7QUFHMUMsZUFBZUUsSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLEtBQUssSUFBSUgsMERBQWVBO1FBQzlCLE1BQU1JLGVBQWVGLFFBQVFHLE9BQU8sQ0FBQ0QsWUFBWTtRQUVqRCxNQUFNRSxPQUFPQyxTQUFTSCxhQUFhSSxHQUFHLENBQUMsV0FBVztRQUNsRCxNQUFNQyxRQUFRRixTQUFTSCxhQUFhSSxHQUFHLENBQUMsWUFBWTtRQUNwRCxNQUFNRSxTQUFTLENBQUNKLE9BQU8sS0FBS0c7UUFFNUIsTUFBTUUsU0FBU1IsR0FBR1MsVUFBVSxDQUFDLGFBQWFILE9BQU9DO1FBRWpELE1BQU1HLFdBQThCO1lBQ2xDQyxTQUFTSCxPQUFPRyxPQUFPO1lBQ3ZCQyxPQUFPSixPQUFPSSxLQUFLO1lBQ25CVDtZQUNBVSxVQUFVUDtZQUNWUSxVQUFVUCxTQUFTRCxRQUFRRSxPQUFPSSxLQUFLO1FBQ3pDO1FBRUEsT0FBT2hCLHFEQUFZQSxDQUFDbUIsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU1QO1FBQ1I7SUFFRixFQUFFLE9BQU9RLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT3RCLHFEQUFZQSxDQUFDbUIsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RFLE9BQU87UUFDVCxHQUF3QjtZQUFFRSxRQUFRO1FBQUk7SUFDeEM7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9tYXRjaGVzL3Jlc3VsdHMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IERhdGFiYXNlU2VydmljZSB9IGZyb20gJ0AvbGliL2RhdGFiYXNlJztcbmltcG9ydCB7IEFwaVJlc3BvbnNlLCBNYXRjaExpc3RSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBuZXcgRGF0YWJhc2VTZXJ2aWNlKCk7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcztcbiAgICBcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJyk7XG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICc1MCcpO1xuICAgIGNvbnN0IG9mZnNldCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGRiLmdldE1hdGNoZXMoJ2NvbXBsZXRlZCcsIGxpbWl0LCBvZmZzZXQpO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlOiBNYXRjaExpc3RSZXNwb25zZSA9IHtcbiAgICAgIG1hdGNoZXM6IHJlc3VsdC5tYXRjaGVzLFxuICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgIHBhZ2UsXG4gICAgICBwZXJfcGFnZTogbGltaXQsXG4gICAgICBoYXNfbmV4dDogb2Zmc2V0ICsgbGltaXQgPCByZXN1bHQudG90YWxcbiAgICB9O1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiByZXNwb25zZVxuICAgIH0gYXMgQXBpUmVzcG9uc2U8TWF0Y2hMaXN0UmVzcG9uc2U+KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbXBsZXRlZCBtYXRjaGVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjb21wbGV0ZWQgbWF0Y2hlcydcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkRhdGFiYXNlU2VydmljZSIsIkdFVCIsInJlcXVlc3QiLCJkYiIsInNlYXJjaFBhcmFtcyIsIm5leHRVcmwiLCJwYWdlIiwicGFyc2VJbnQiLCJnZXQiLCJsaW1pdCIsIm9mZnNldCIsInJlc3VsdCIsImdldE1hdGNoZXMiLCJyZXNwb25zZSIsIm1hdGNoZXMiLCJ0b3RhbCIsInBlcl9wYWdlIiwiaGFzX25leHQiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/matches/results/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseService: () => (/* binding */ DatabaseService),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Database instance\nlet db = null;\nfunction getDatabase() {\n    if (!db) {\n        const dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'vlr_matches.db');\n        db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n        // Enable WAL mode for better performance\n        db.pragma('journal_mode = WAL');\n        // Initialize database schema\n        initializeSchema();\n    }\n    return db;\n}\nfunction initializeSchema() {\n    const db = getDatabase();\n    // Create tables\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teams (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL UNIQUE,\n      flag_url TEXT,\n      logo_url TEXT,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    CREATE TABLE IF NOT EXISTS tournaments (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL UNIQUE,\n      logo_url TEXT,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    CREATE TABLE IF NOT EXISTS matches (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      vlr_match_id TEXT NOT NULL UNIQUE,\n      team1_id INTEGER,\n      team2_id INTEGER,\n      tournament_id INTEGER,\n      status TEXT NOT NULL DEFAULT 'upcoming',\n      match_time DATETIME,\n      match_format TEXT DEFAULT 'Bo3',\n      stage TEXT,\n      team1_score INTEGER DEFAULT 0,\n      team2_score INTEGER DEFAULT 0,\n      match_url TEXT,\n      vod_url TEXT,\n      stats_url TEXT,\n      maps_data TEXT, -- JSON string\n      player_stats TEXT, -- JSON string\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (team1_id) REFERENCES teams (id),\n      FOREIGN KEY (team2_id) REFERENCES teams (id),\n      FOREIGN KEY (tournament_id) REFERENCES tournaments (id)\n    );\n\n    CREATE TABLE IF NOT EXISTS scraping_logs (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      scrape_type TEXT NOT NULL,\n      url TEXT NOT NULL,\n      status TEXT NOT NULL,\n      error_message TEXT,\n      matches_found INTEGER DEFAULT 0,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    -- Indexes for performance\n    CREATE INDEX IF NOT EXISTS idx_matches_status ON matches(status);\n    CREATE INDEX IF NOT EXISTS idx_matches_vlr_id ON matches(vlr_match_id);\n    CREATE INDEX IF NOT EXISTS idx_matches_time ON matches(match_time);\n    CREATE INDEX IF NOT EXISTS idx_scraping_logs_created ON scraping_logs(created_at);\n  `);\n}\nclass DatabaseService {\n    constructor(){\n        this.db = getDatabase();\n    }\n    // Team operations\n    getOrCreateTeam(name, flagUrl, logoUrl) {\n        if (!name || name.toLowerCase() === 'tbd' || name === '–' || name === '-') {\n            throw new Error('Invalid team name');\n        }\n        // Try to find existing team\n        const existing = this.db.prepare('SELECT * FROM teams WHERE name = ?').get(name);\n        if (existing) {\n            return existing;\n        }\n        // Create new team\n        const result = this.db.prepare(`\n      INSERT INTO teams (name, flag_url, logo_url)\n      VALUES (?, ?, ?)\n    `).run(name, flagUrl, logoUrl);\n        return {\n            id: result.lastInsertRowid,\n            name,\n            flag_url: flagUrl,\n            logo_url: logoUrl,\n            created_at: new Date().toISOString()\n        };\n    }\n    // Tournament operations\n    getOrCreateTournament(name, logoUrl) {\n        if (!name) {\n            throw new Error('Invalid tournament name');\n        }\n        // Try to find existing tournament\n        const existing = this.db.prepare('SELECT * FROM tournaments WHERE name = ?').get(name);\n        if (existing) {\n            return existing;\n        }\n        // Create new tournament\n        const result = this.db.prepare(`\n      INSERT INTO tournaments (name, logo_url)\n      VALUES (?, ?)\n    `).run(name, logoUrl);\n        return {\n            id: result.lastInsertRowid,\n            name,\n            logo_url: logoUrl,\n            created_at: new Date().toISOString()\n        };\n    }\n    // Match operations\n    saveMatch(matchData) {\n        const transaction = this.db.transaction(()=>{\n            // Get or create teams and tournament\n            let team1;\n            let team2;\n            let tournament;\n            if (matchData.team1_name) {\n                team1 = this.getOrCreateTeam(matchData.team1_name);\n            }\n            if (matchData.team2_name) {\n                team2 = this.getOrCreateTeam(matchData.team2_name);\n            }\n            if (matchData.tournament_name) {\n                tournament = this.getOrCreateTournament(matchData.tournament_name);\n            }\n            // Check if match exists\n            const existing = this.db.prepare('SELECT * FROM matches WHERE vlr_match_id = ?').get(matchData.vlr_match_id);\n            const now = new Date().toISOString();\n            if (existing) {\n                // Update existing match\n                this.db.prepare(`\n          UPDATE matches SET\n            team1_id = ?,\n            team2_id = ?,\n            tournament_id = ?,\n            status = ?,\n            match_time = ?,\n            match_format = ?,\n            stage = ?,\n            team1_score = ?,\n            team2_score = ?,\n            match_url = ?,\n            vod_url = ?,\n            stats_url = ?,\n            maps_data = ?,\n            player_stats = ?,\n            updated_at = ?\n          WHERE vlr_match_id = ?\n        `).run(team1?.id, team2?.id, tournament?.id, matchData.status, matchData.match_time, matchData.match_format, matchData.stage, matchData.team1_score, matchData.team2_score, matchData.match_url, matchData.vod_url, matchData.stats_url, matchData.maps_data ? JSON.stringify(matchData.maps_data) : null, matchData.player_stats ? JSON.stringify(matchData.player_stats) : null, now, matchData.vlr_match_id);\n                return {\n                    ...existing,\n                    updated_at: now\n                };\n            } else {\n                // Create new match\n                const result = this.db.prepare(`\n          INSERT INTO matches (\n            vlr_match_id, team1_id, team2_id, tournament_id, status,\n            match_time, match_format, stage, team1_score, team2_score,\n            match_url, vod_url, stats_url, maps_data, player_stats\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        `).run(matchData.vlr_match_id, team1?.id, team2?.id, tournament?.id, matchData.status, matchData.match_time, matchData.match_format, matchData.stage, matchData.team1_score, matchData.team2_score, matchData.match_url, matchData.vod_url, matchData.stats_url, matchData.maps_data ? JSON.stringify(matchData.maps_data) : null, matchData.player_stats ? JSON.stringify(matchData.player_stats) : null);\n                return {\n                    id: result.lastInsertRowid,\n                    vlr_match_id: matchData.vlr_match_id,\n                    team1_id: team1?.id,\n                    team2_id: team2?.id,\n                    tournament_id: tournament?.id,\n                    status: matchData.status,\n                    match_time: matchData.match_time,\n                    match_format: matchData.match_format,\n                    stage: matchData.stage,\n                    team1_score: matchData.team1_score,\n                    team2_score: matchData.team2_score,\n                    match_url: matchData.match_url,\n                    vod_url: matchData.vod_url,\n                    stats_url: matchData.stats_url,\n                    maps_data: matchData.maps_data,\n                    player_stats: matchData.player_stats,\n                    created_at: now,\n                    updated_at: now\n                };\n            }\n        });\n        return transaction();\n    }\n    // Get matches with filtering\n    getMatches(status, limit = 50, offset = 0) {\n        let query = `\n      SELECT \n        m.*,\n        t1.name as team1_name, t1.flag_url as team1_flag,\n        t2.name as team2_name, t2.flag_url as team2_flag,\n        tour.name as tournament_name, tour.logo_url as tournament_logo\n      FROM matches m\n      LEFT JOIN teams t1 ON m.team1_id = t1.id\n      LEFT JOIN teams t2 ON m.team2_id = t2.id\n      LEFT JOIN tournaments tour ON m.tournament_id = tour.id\n    `;\n        const params = [];\n        if (status && status !== 'all') {\n            query += ' WHERE m.status = ?';\n            params.push(status);\n        }\n        // Get total count\n        let countQuery = 'SELECT COUNT(*) as count FROM matches m';\n        if (status && status !== 'all') {\n            countQuery += ' WHERE status = ?';\n        }\n        const totalResult = this.db.prepare(countQuery).get(status && status !== 'all' ? [\n            status\n        ] : []);\n        // Add ordering and pagination\n        query += ' ORDER BY m.created_at DESC LIMIT ? OFFSET ?';\n        params.push(limit, offset);\n        const rows = this.db.prepare(query).all(params);\n        const matches = rows.map((row)=>({\n                id: row.id,\n                vlr_match_id: row.vlr_match_id,\n                team1_id: row.team1_id,\n                team2_id: row.team2_id,\n                tournament_id: row.tournament_id,\n                status: row.status,\n                match_time: row.match_time,\n                match_format: row.match_format,\n                stage: row.stage,\n                team1_score: row.team1_score,\n                team2_score: row.team2_score,\n                match_url: row.match_url,\n                vod_url: row.vod_url,\n                stats_url: row.stats_url,\n                maps_data: row.maps_data ? JSON.parse(row.maps_data) : undefined,\n                player_stats: row.player_stats ? JSON.parse(row.player_stats) : undefined,\n                created_at: row.created_at,\n                updated_at: row.updated_at,\n                team1: row.team1_name ? {\n                    id: row.team1_id,\n                    name: row.team1_name,\n                    flag_url: row.team1_flag,\n                    created_at: ''\n                } : undefined,\n                team2: row.team2_name ? {\n                    id: row.team2_id,\n                    name: row.team2_name,\n                    flag_url: row.team2_flag,\n                    created_at: ''\n                } : undefined,\n                tournament: row.tournament_name ? {\n                    id: row.tournament_id,\n                    name: row.tournament_name,\n                    logo_url: row.tournament_logo,\n                    created_at: ''\n                } : undefined\n            }));\n        return {\n            matches,\n            total: totalResult.count\n        };\n    }\n    // Get single match by ID\n    getMatch(id) {\n        const row = this.db.prepare(`\n      SELECT \n        m.*,\n        t1.name as team1_name, t1.flag_url as team1_flag,\n        t2.name as team2_name, t2.flag_url as team2_flag,\n        tour.name as tournament_name, tour.logo_url as tournament_logo\n      FROM matches m\n      LEFT JOIN teams t1 ON m.team1_id = t1.id\n      LEFT JOIN teams t2 ON m.team2_id = t2.id\n      LEFT JOIN tournaments tour ON m.tournament_id = tour.id\n      WHERE m.id = ?\n    `).get(id);\n        if (!row) return null;\n        return {\n            id: row.id,\n            vlr_match_id: row.vlr_match_id,\n            team1_id: row.team1_id,\n            team2_id: row.team2_id,\n            tournament_id: row.tournament_id,\n            status: row.status,\n            match_time: row.match_time,\n            match_format: row.match_format,\n            stage: row.stage,\n            team1_score: row.team1_score,\n            team2_score: row.team2_score,\n            match_url: row.match_url,\n            vod_url: row.vod_url,\n            stats_url: row.stats_url,\n            maps_data: row.maps_data ? JSON.parse(row.maps_data) : undefined,\n            player_stats: row.player_stats ? JSON.parse(row.player_stats) : undefined,\n            created_at: row.created_at,\n            updated_at: row.updated_at,\n            team1: row.team1_name ? {\n                id: row.team1_id,\n                name: row.team1_name,\n                flag_url: row.team1_flag,\n                created_at: ''\n            } : undefined,\n            team2: row.team2_name ? {\n                id: row.team2_id,\n                name: row.team2_name,\n                flag_url: row.team2_flag,\n                created_at: ''\n            } : undefined,\n            tournament: row.tournament_name ? {\n                id: row.tournament_id,\n                name: row.tournament_name,\n                logo_url: row.tournament_logo,\n                created_at: ''\n            } : undefined\n        };\n    }\n    // Get all teams\n    getTeams() {\n        return this.db.prepare('SELECT * FROM teams ORDER BY name').all();\n    }\n    // Get all tournaments\n    getTournaments() {\n        return this.db.prepare('SELECT * FROM tournaments ORDER BY name').all();\n    }\n    // Log scraping activity\n    logScraping(type, url, status, errorMessage, matchesFound = 0) {\n        this.db.prepare(`\n      INSERT INTO scraping_logs (scrape_type, url, status, error_message, matches_found)\n      VALUES (?, ?, ?, ?, ?)\n    `).run(type, url, status, errorMessage, matchesFound);\n    }\n    // Get scraping logs\n    getScrapingLogs(limit = 20) {\n        return this.db.prepare(`\n      SELECT * FROM scraping_logs \n      ORDER BY created_at DESC \n      LIMIT ?\n    `).all(limit);\n    }\n    // Get database statistics\n    getStats() {\n        const matchCount = this.db.prepare('SELECT COUNT(*) as count FROM matches').get();\n        const liveCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"live\"').get();\n        const upcomingCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"upcoming\"').get();\n        const completedCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"completed\"').get();\n        const teamCount = this.db.prepare('SELECT COUNT(*) as count FROM teams').get();\n        const tournamentCount = this.db.prepare('SELECT COUNT(*) as count FROM tournaments').get();\n        return {\n            total_matches: matchCount.count,\n            live_matches: liveCount.count,\n            upcoming_matches: upcomingCount.count,\n            completed_matches: completedCount.count,\n            total_teams: teamCount.count,\n            total_tournaments: tournamentCount.count\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d29ya3NwYWNlL3NyYy9saWIvZGF0YWJhc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlIGZyb20gJ2JldHRlci1zcWxpdGUzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgVGVhbSwgVG91cm5hbWVudCwgTWF0Y2gsIFNjcmFwaW5nTG9nLCBNYXRjaERldGFpbFNjcmFwZURhdGEgfSBmcm9tICdAL3R5cGVzJztcblxuLy8gRGF0YWJhc2UgaW5zdGFuY2VcbmxldCBkYjogRGF0YWJhc2UuRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFiYXNlKCk6IERhdGFiYXNlLkRhdGFiYXNlIHtcbiAgaWYgKCFkYikge1xuICAgIGNvbnN0IGRiUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndmxyX21hdGNoZXMuZGInKTtcbiAgICBkYiA9IG5ldyBEYXRhYmFzZShkYlBhdGgpO1xuICAgIFxuICAgIC8vIEVuYWJsZSBXQUwgbW9kZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgZGIucHJhZ21hKCdqb3VybmFsX21vZGUgPSBXQUwnKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIHNjaGVtYVxuICAgIGluaXRpYWxpemVTY2hlbWEoKTtcbiAgfVxuICByZXR1cm4gZGI7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTY2hlbWEoKSB7XG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgXG4gIC8vIENyZWF0ZSB0YWJsZXNcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdGVhbXMgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAgIGZsYWdfdXJsIFRFWFQsXG4gICAgICBsb2dvX3VybCBURVhULFxuICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgKTtcblxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHRvdXJuYW1lbnRzIChcbiAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgICBsb2dvX3VybCBURVhULFxuICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgKTtcblxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG1hdGNoZXMgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgdmxyX21hdGNoX2lkIFRFWFQgTk9UIE5VTEwgVU5JUVVFLFxuICAgICAgdGVhbTFfaWQgSU5URUdFUixcbiAgICAgIHRlYW0yX2lkIElOVEVHRVIsXG4gICAgICB0b3VybmFtZW50X2lkIElOVEVHRVIsXG4gICAgICBzdGF0dXMgVEVYVCBOT1QgTlVMTCBERUZBVUxUICd1cGNvbWluZycsXG4gICAgICBtYXRjaF90aW1lIERBVEVUSU1FLFxuICAgICAgbWF0Y2hfZm9ybWF0IFRFWFQgREVGQVVMVCAnQm8zJyxcbiAgICAgIHN0YWdlIFRFWFQsXG4gICAgICB0ZWFtMV9zY29yZSBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgIHRlYW0yX3Njb3JlIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgbWF0Y2hfdXJsIFRFWFQsXG4gICAgICB2b2RfdXJsIFRFWFQsXG4gICAgICBzdGF0c191cmwgVEVYVCxcbiAgICAgIG1hcHNfZGF0YSBURVhULCAtLSBKU09OIHN0cmluZ1xuICAgICAgcGxheWVyX3N0YXRzIFRFWFQsIC0tIEpTT04gc3RyaW5nXG4gICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICB1cGRhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICBGT1JFSUdOIEtFWSAodGVhbTFfaWQpIFJFRkVSRU5DRVMgdGVhbXMgKGlkKSxcbiAgICAgIEZPUkVJR04gS0VZICh0ZWFtMl9pZCkgUkVGRVJFTkNFUyB0ZWFtcyAoaWQpLFxuICAgICAgRk9SRUlHTiBLRVkgKHRvdXJuYW1lbnRfaWQpIFJFRkVSRU5DRVMgdG91cm5hbWVudHMgKGlkKVxuICAgICk7XG5cbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzY3JhcGluZ19sb2dzIChcbiAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgIHNjcmFwZV90eXBlIFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cmwgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHN0YXR1cyBURVhUIE5PVCBOVUxMLFxuICAgICAgZXJyb3JfbWVzc2FnZSBURVhULFxuICAgICAgbWF0Y2hlc19mb3VuZCBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICk7XG5cbiAgICAtLSBJbmRleGVzIGZvciBwZXJmb3JtYW5jZVxuICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9tYXRjaGVzX3N0YXR1cyBPTiBtYXRjaGVzKHN0YXR1cyk7XG4gICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X21hdGNoZXNfdmxyX2lkIE9OIG1hdGNoZXModmxyX21hdGNoX2lkKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfbWF0Y2hlc190aW1lIE9OIG1hdGNoZXMobWF0Y2hfdGltZSk7XG4gICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3NjcmFwaW5nX2xvZ3NfY3JlYXRlZCBPTiBzY3JhcGluZ19sb2dzKGNyZWF0ZWRfYXQpO1xuICBgKTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlU2VydmljZSB7XG4gIHByaXZhdGUgZGI6IERhdGFiYXNlLkRhdGFiYXNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGIgPSBnZXREYXRhYmFzZSgpO1xuICB9XG5cbiAgLy8gVGVhbSBvcGVyYXRpb25zXG4gIGdldE9yQ3JlYXRlVGVhbShuYW1lOiBzdHJpbmcsIGZsYWdVcmw/OiBzdHJpbmcsIGxvZ29Vcmw/OiBzdHJpbmcpOiBUZWFtIHtcbiAgICBpZiAoIW5hbWUgfHwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGJkJyB8fCBuYW1lID09PSAn4oCTJyB8fCBuYW1lID09PSAnLScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0ZWFtIG5hbWUnKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gZmluZCBleGlzdGluZyB0ZWFtXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gdGVhbXMgV0hFUkUgbmFtZSA9ID8nKS5nZXQobmFtZSkgYXMgVGVhbSB8IHVuZGVmaW5lZDtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbmV3IHRlYW1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgSU5TRVJUIElOVE8gdGVhbXMgKG5hbWUsIGZsYWdfdXJsLCBsb2dvX3VybClcbiAgICAgIFZBTFVFUyAoPywgPywgPylcbiAgICBgKS5ydW4obmFtZSwgZmxhZ1VybCwgbG9nb1VybCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJlc3VsdC5sYXN0SW5zZXJ0Um93aWQgYXMgbnVtYmVyLFxuICAgICAgbmFtZSxcbiAgICAgIGZsYWdfdXJsOiBmbGFnVXJsLFxuICAgICAgbG9nb191cmw6IGxvZ29VcmwsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICB9XG5cbiAgLy8gVG91cm5hbWVudCBvcGVyYXRpb25zXG4gIGdldE9yQ3JlYXRlVG91cm5hbWVudChuYW1lOiBzdHJpbmcsIGxvZ29Vcmw/OiBzdHJpbmcpOiBUb3VybmFtZW50IHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0b3VybmFtZW50IG5hbWUnKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gZmluZCBleGlzdGluZyB0b3VybmFtZW50XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gdG91cm5hbWVudHMgV0hFUkUgbmFtZSA9ID8nKS5nZXQobmFtZSkgYXMgVG91cm5hbWVudCB8IHVuZGVmaW5lZDtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbmV3IHRvdXJuYW1lbnRcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgSU5TRVJUIElOVE8gdG91cm5hbWVudHMgKG5hbWUsIGxvZ29fdXJsKVxuICAgICAgVkFMVUVTICg/LCA/KVxuICAgIGApLnJ1bihuYW1lLCBsb2dvVXJsKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcmVzdWx0Lmxhc3RJbnNlcnRSb3dpZCBhcyBudW1iZXIsXG4gICAgICBuYW1lLFxuICAgICAgbG9nb191cmw6IGxvZ29VcmwsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICB9XG5cbiAgLy8gTWF0Y2ggb3BlcmF0aW9uc1xuICBzYXZlTWF0Y2gobWF0Y2hEYXRhOiBNYXRjaERldGFpbFNjcmFwZURhdGEpOiBNYXRjaCB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiLnRyYW5zYWN0aW9uKCgpID0+IHtcbiAgICAgIC8vIEdldCBvciBjcmVhdGUgdGVhbXMgYW5kIHRvdXJuYW1lbnRcbiAgICAgIGxldCB0ZWFtMTogVGVhbSB8IHVuZGVmaW5lZDtcbiAgICAgIGxldCB0ZWFtMjogVGVhbSB8IHVuZGVmaW5lZDtcbiAgICAgIGxldCB0b3VybmFtZW50OiBUb3VybmFtZW50IHwgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAobWF0Y2hEYXRhLnRlYW0xX25hbWUpIHtcbiAgICAgICAgdGVhbTEgPSB0aGlzLmdldE9yQ3JlYXRlVGVhbShtYXRjaERhdGEudGVhbTFfbmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hEYXRhLnRlYW0yX25hbWUpIHtcbiAgICAgICAgdGVhbTIgPSB0aGlzLmdldE9yQ3JlYXRlVGVhbShtYXRjaERhdGEudGVhbTJfbmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hEYXRhLnRvdXJuYW1lbnRfbmFtZSkge1xuICAgICAgICB0b3VybmFtZW50ID0gdGhpcy5nZXRPckNyZWF0ZVRvdXJuYW1lbnQobWF0Y2hEYXRhLnRvdXJuYW1lbnRfbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIG1hdGNoIGV4aXN0c1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gbWF0Y2hlcyBXSEVSRSB2bHJfbWF0Y2hfaWQgPSA/JykuZ2V0KG1hdGNoRGF0YS52bHJfbWF0Y2hfaWQpIGFzIE1hdGNoIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgbWF0Y2hcbiAgICAgICAgdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgICAgICBVUERBVEUgbWF0Y2hlcyBTRVRcbiAgICAgICAgICAgIHRlYW0xX2lkID0gPyxcbiAgICAgICAgICAgIHRlYW0yX2lkID0gPyxcbiAgICAgICAgICAgIHRvdXJuYW1lbnRfaWQgPSA/LFxuICAgICAgICAgICAgc3RhdHVzID0gPyxcbiAgICAgICAgICAgIG1hdGNoX3RpbWUgPSA/LFxuICAgICAgICAgICAgbWF0Y2hfZm9ybWF0ID0gPyxcbiAgICAgICAgICAgIHN0YWdlID0gPyxcbiAgICAgICAgICAgIHRlYW0xX3Njb3JlID0gPyxcbiAgICAgICAgICAgIHRlYW0yX3Njb3JlID0gPyxcbiAgICAgICAgICAgIG1hdGNoX3VybCA9ID8sXG4gICAgICAgICAgICB2b2RfdXJsID0gPyxcbiAgICAgICAgICAgIHN0YXRzX3VybCA9ID8sXG4gICAgICAgICAgICBtYXBzX2RhdGEgPSA/LFxuICAgICAgICAgICAgcGxheWVyX3N0YXRzID0gPyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQgPSA/XG4gICAgICAgICAgV0hFUkUgdmxyX21hdGNoX2lkID0gP1xuICAgICAgICBgKS5ydW4oXG4gICAgICAgICAgdGVhbTE/LmlkLFxuICAgICAgICAgIHRlYW0yPy5pZCxcbiAgICAgICAgICB0b3VybmFtZW50Py5pZCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhdHVzLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXRjaF90aW1lLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXRjaF9mb3JtYXQsXG4gICAgICAgICAgbWF0Y2hEYXRhLnN0YWdlLFxuICAgICAgICAgIG1hdGNoRGF0YS50ZWFtMV9zY29yZSxcbiAgICAgICAgICBtYXRjaERhdGEudGVhbTJfc2NvcmUsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX3VybCxcbiAgICAgICAgICBtYXRjaERhdGEudm9kX3VybCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhdHNfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXBzX2RhdGEgPyBKU09OLnN0cmluZ2lmeShtYXRjaERhdGEubWFwc19kYXRhKSA6IG51bGwsXG4gICAgICAgICAgbWF0Y2hEYXRhLnBsYXllcl9zdGF0cyA/IEpTT04uc3RyaW5naWZ5KG1hdGNoRGF0YS5wbGF5ZXJfc3RhdHMpIDogbnVsbCxcbiAgICAgICAgICBub3csXG4gICAgICAgICAgbWF0Y2hEYXRhLnZscl9tYXRjaF9pZFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7IC4uLmV4aXN0aW5nLCB1cGRhdGVkX2F0OiBub3cgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgbWF0Y2hcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgICAgICBJTlNFUlQgSU5UTyBtYXRjaGVzIChcbiAgICAgICAgICAgIHZscl9tYXRjaF9pZCwgdGVhbTFfaWQsIHRlYW0yX2lkLCB0b3VybmFtZW50X2lkLCBzdGF0dXMsXG4gICAgICAgICAgICBtYXRjaF90aW1lLCBtYXRjaF9mb3JtYXQsIHN0YWdlLCB0ZWFtMV9zY29yZSwgdGVhbTJfc2NvcmUsXG4gICAgICAgICAgICBtYXRjaF91cmwsIHZvZF91cmwsIHN0YXRzX3VybCwgbWFwc19kYXRhLCBwbGF5ZXJfc3RhdHNcbiAgICAgICAgICApIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylcbiAgICAgICAgYCkucnVuKFxuICAgICAgICAgIG1hdGNoRGF0YS52bHJfbWF0Y2hfaWQsXG4gICAgICAgICAgdGVhbTE/LmlkLFxuICAgICAgICAgIHRlYW0yPy5pZCxcbiAgICAgICAgICB0b3VybmFtZW50Py5pZCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhdHVzLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXRjaF90aW1lLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXRjaF9mb3JtYXQsXG4gICAgICAgICAgbWF0Y2hEYXRhLnN0YWdlLFxuICAgICAgICAgIG1hdGNoRGF0YS50ZWFtMV9zY29yZSxcbiAgICAgICAgICBtYXRjaERhdGEudGVhbTJfc2NvcmUsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX3VybCxcbiAgICAgICAgICBtYXRjaERhdGEudm9kX3VybCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhdHNfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS5tYXBzX2RhdGEgPyBKU09OLnN0cmluZ2lmeShtYXRjaERhdGEubWFwc19kYXRhKSA6IG51bGwsXG4gICAgICAgICAgbWF0Y2hEYXRhLnBsYXllcl9zdGF0cyA/IEpTT04uc3RyaW5naWZ5KG1hdGNoRGF0YS5wbGF5ZXJfc3RhdHMpIDogbnVsbFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHJlc3VsdC5sYXN0SW5zZXJ0Um93aWQgYXMgbnVtYmVyLFxuICAgICAgICAgIHZscl9tYXRjaF9pZDogbWF0Y2hEYXRhLnZscl9tYXRjaF9pZCxcbiAgICAgICAgICB0ZWFtMV9pZDogdGVhbTE/LmlkLFxuICAgICAgICAgIHRlYW0yX2lkOiB0ZWFtMj8uaWQsXG4gICAgICAgICAgdG91cm5hbWVudF9pZDogdG91cm5hbWVudD8uaWQsXG4gICAgICAgICAgc3RhdHVzOiBtYXRjaERhdGEuc3RhdHVzLFxuICAgICAgICAgIG1hdGNoX3RpbWU6IG1hdGNoRGF0YS5tYXRjaF90aW1lLFxuICAgICAgICAgIG1hdGNoX2Zvcm1hdDogbWF0Y2hEYXRhLm1hdGNoX2Zvcm1hdCxcbiAgICAgICAgICBzdGFnZTogbWF0Y2hEYXRhLnN0YWdlLFxuICAgICAgICAgIHRlYW0xX3Njb3JlOiBtYXRjaERhdGEudGVhbTFfc2NvcmUsXG4gICAgICAgICAgdGVhbTJfc2NvcmU6IG1hdGNoRGF0YS50ZWFtMl9zY29yZSxcbiAgICAgICAgICBtYXRjaF91cmw6IG1hdGNoRGF0YS5tYXRjaF91cmwsXG4gICAgICAgICAgdm9kX3VybDogbWF0Y2hEYXRhLnZvZF91cmwsXG4gICAgICAgICAgc3RhdHNfdXJsOiBtYXRjaERhdGEuc3RhdHNfdXJsLFxuICAgICAgICAgIG1hcHNfZGF0YTogbWF0Y2hEYXRhLm1hcHNfZGF0YSxcbiAgICAgICAgICBwbGF5ZXJfc3RhdHM6IG1hdGNoRGF0YS5wbGF5ZXJfc3RhdHMsXG4gICAgICAgICAgY3JlYXRlZF9hdDogbm93LFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5vd1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uKCk7XG4gIH1cblxuICAvLyBHZXQgbWF0Y2hlcyB3aXRoIGZpbHRlcmluZ1xuICBnZXRNYXRjaGVzKHN0YXR1cz86IHN0cmluZywgbGltaXQgPSA1MCwgb2Zmc2V0ID0gMCk6IHsgbWF0Y2hlczogTWF0Y2hbXTsgdG90YWw6IG51bWJlciB9IHtcbiAgICBsZXQgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIG0uKixcbiAgICAgICAgdDEubmFtZSBhcyB0ZWFtMV9uYW1lLCB0MS5mbGFnX3VybCBhcyB0ZWFtMV9mbGFnLFxuICAgICAgICB0Mi5uYW1lIGFzIHRlYW0yX25hbWUsIHQyLmZsYWdfdXJsIGFzIHRlYW0yX2ZsYWcsXG4gICAgICAgIHRvdXIubmFtZSBhcyB0b3VybmFtZW50X25hbWUsIHRvdXIubG9nb191cmwgYXMgdG91cm5hbWVudF9sb2dvXG4gICAgICBGUk9NIG1hdGNoZXMgbVxuICAgICAgTEVGVCBKT0lOIHRlYW1zIHQxIE9OIG0udGVhbTFfaWQgPSB0MS5pZFxuICAgICAgTEVGVCBKT0lOIHRlYW1zIHQyIE9OIG0udGVhbTJfaWQgPSB0Mi5pZFxuICAgICAgTEVGVCBKT0lOIHRvdXJuYW1lbnRzIHRvdXIgT04gbS50b3VybmFtZW50X2lkID0gdG91ci5pZFxuICAgIGA7XG5cbiAgICBjb25zdCBwYXJhbXM6IGFueVtdID0gW107XG5cbiAgICBpZiAoc3RhdHVzICYmIHN0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgIHF1ZXJ5ICs9ICcgV0hFUkUgbS5zdGF0dXMgPSA/JztcbiAgICAgIHBhcmFtcy5wdXNoKHN0YXR1cyk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRvdGFsIGNvdW50XG4gICAgbGV0IGNvdW50UXVlcnkgPSAnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gbWF0Y2hlcyBtJztcbiAgICBpZiAoc3RhdHVzICYmIHN0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgIGNvdW50UXVlcnkgKz0gJyBXSEVSRSBzdGF0dXMgPSA/JztcbiAgICB9XG4gICAgY29uc3QgdG90YWxSZXN1bHQgPSB0aGlzLmRiLnByZXBhcmUoY291bnRRdWVyeSkuZ2V0KHN0YXR1cyAmJiBzdGF0dXMgIT09ICdhbGwnID8gW3N0YXR1c10gOiBbXSkgYXMgeyBjb3VudDogbnVtYmVyIH07XG5cbiAgICAvLyBBZGQgb3JkZXJpbmcgYW5kIHBhZ2luYXRpb25cbiAgICBxdWVyeSArPSAnIE9SREVSIEJZIG0uY3JlYXRlZF9hdCBERVNDIExJTUlUID8gT0ZGU0VUID8nO1xuICAgIHBhcmFtcy5wdXNoKGxpbWl0LCBvZmZzZXQpO1xuXG4gICAgY29uc3Qgcm93cyA9IHRoaXMuZGIucHJlcGFyZShxdWVyeSkuYWxsKHBhcmFtcykgYXMgYW55W107XG5cbiAgICBjb25zdCBtYXRjaGVzOiBNYXRjaFtdID0gcm93cy5tYXAocm93ID0+ICh7XG4gICAgICBpZDogcm93LmlkLFxuICAgICAgdmxyX21hdGNoX2lkOiByb3cudmxyX21hdGNoX2lkLFxuICAgICAgdGVhbTFfaWQ6IHJvdy50ZWFtMV9pZCxcbiAgICAgIHRlYW0yX2lkOiByb3cudGVhbTJfaWQsXG4gICAgICB0b3VybmFtZW50X2lkOiByb3cudG91cm5hbWVudF9pZCxcbiAgICAgIHN0YXR1czogcm93LnN0YXR1cyxcbiAgICAgIG1hdGNoX3RpbWU6IHJvdy5tYXRjaF90aW1lLFxuICAgICAgbWF0Y2hfZm9ybWF0OiByb3cubWF0Y2hfZm9ybWF0LFxuICAgICAgc3RhZ2U6IHJvdy5zdGFnZSxcbiAgICAgIHRlYW0xX3Njb3JlOiByb3cudGVhbTFfc2NvcmUsXG4gICAgICB0ZWFtMl9zY29yZTogcm93LnRlYW0yX3Njb3JlLFxuICAgICAgbWF0Y2hfdXJsOiByb3cubWF0Y2hfdXJsLFxuICAgICAgdm9kX3VybDogcm93LnZvZF91cmwsXG4gICAgICBzdGF0c191cmw6IHJvdy5zdGF0c191cmwsXG4gICAgICBtYXBzX2RhdGE6IHJvdy5tYXBzX2RhdGEgPyBKU09OLnBhcnNlKHJvdy5tYXBzX2RhdGEpIDogdW5kZWZpbmVkLFxuICAgICAgcGxheWVyX3N0YXRzOiByb3cucGxheWVyX3N0YXRzID8gSlNPTi5wYXJzZShyb3cucGxheWVyX3N0YXRzKSA6IHVuZGVmaW5lZCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdDogcm93LnVwZGF0ZWRfYXQsXG4gICAgICB0ZWFtMTogcm93LnRlYW0xX25hbWUgPyB7IGlkOiByb3cudGVhbTFfaWQsIG5hbWU6IHJvdy50ZWFtMV9uYW1lLCBmbGFnX3VybDogcm93LnRlYW0xX2ZsYWcsIGNyZWF0ZWRfYXQ6ICcnIH0gOiB1bmRlZmluZWQsXG4gICAgICB0ZWFtMjogcm93LnRlYW0yX25hbWUgPyB7IGlkOiByb3cudGVhbTJfaWQsIG5hbWU6IHJvdy50ZWFtMl9uYW1lLCBmbGFnX3VybDogcm93LnRlYW0yX2ZsYWcsIGNyZWF0ZWRfYXQ6ICcnIH0gOiB1bmRlZmluZWQsXG4gICAgICB0b3VybmFtZW50OiByb3cudG91cm5hbWVudF9uYW1lID8geyBpZDogcm93LnRvdXJuYW1lbnRfaWQsIG5hbWU6IHJvdy50b3VybmFtZW50X25hbWUsIGxvZ29fdXJsOiByb3cudG91cm5hbWVudF9sb2dvLCBjcmVhdGVkX2F0OiAnJyB9IDogdW5kZWZpbmVkXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICB0b3RhbDogdG90YWxSZXN1bHQuY291bnRcbiAgICB9O1xuICB9XG5cbiAgLy8gR2V0IHNpbmdsZSBtYXRjaCBieSBJRFxuICBnZXRNYXRjaChpZDogbnVtYmVyKTogTWF0Y2ggfCBudWxsIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUIFxuICAgICAgICBtLiosXG4gICAgICAgIHQxLm5hbWUgYXMgdGVhbTFfbmFtZSwgdDEuZmxhZ191cmwgYXMgdGVhbTFfZmxhZyxcbiAgICAgICAgdDIubmFtZSBhcyB0ZWFtMl9uYW1lLCB0Mi5mbGFnX3VybCBhcyB0ZWFtMl9mbGFnLFxuICAgICAgICB0b3VyLm5hbWUgYXMgdG91cm5hbWVudF9uYW1lLCB0b3VyLmxvZ29fdXJsIGFzIHRvdXJuYW1lbnRfbG9nb1xuICAgICAgRlJPTSBtYXRjaGVzIG1cbiAgICAgIExFRlQgSk9JTiB0ZWFtcyB0MSBPTiBtLnRlYW0xX2lkID0gdDEuaWRcbiAgICAgIExFRlQgSk9JTiB0ZWFtcyB0MiBPTiBtLnRlYW0yX2lkID0gdDIuaWRcbiAgICAgIExFRlQgSk9JTiB0b3VybmFtZW50cyB0b3VyIE9OIG0udG91cm5hbWVudF9pZCA9IHRvdXIuaWRcbiAgICAgIFdIRVJFIG0uaWQgPSA/XG4gICAgYCkuZ2V0KGlkKSBhcyBhbnk7XG5cbiAgICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgIHZscl9tYXRjaF9pZDogcm93LnZscl9tYXRjaF9pZCxcbiAgICAgIHRlYW0xX2lkOiByb3cudGVhbTFfaWQsXG4gICAgICB0ZWFtMl9pZDogcm93LnRlYW0yX2lkLFxuICAgICAgdG91cm5hbWVudF9pZDogcm93LnRvdXJuYW1lbnRfaWQsXG4gICAgICBzdGF0dXM6IHJvdy5zdGF0dXMsXG4gICAgICBtYXRjaF90aW1lOiByb3cubWF0Y2hfdGltZSxcbiAgICAgIG1hdGNoX2Zvcm1hdDogcm93Lm1hdGNoX2Zvcm1hdCxcbiAgICAgIHN0YWdlOiByb3cuc3RhZ2UsXG4gICAgICB0ZWFtMV9zY29yZTogcm93LnRlYW0xX3Njb3JlLFxuICAgICAgdGVhbTJfc2NvcmU6IHJvdy50ZWFtMl9zY29yZSxcbiAgICAgIG1hdGNoX3VybDogcm93Lm1hdGNoX3VybCxcbiAgICAgIHZvZF91cmw6IHJvdy52b2RfdXJsLFxuICAgICAgc3RhdHNfdXJsOiByb3cuc3RhdHNfdXJsLFxuICAgICAgbWFwc19kYXRhOiByb3cubWFwc19kYXRhID8gSlNPTi5wYXJzZShyb3cubWFwc19kYXRhKSA6IHVuZGVmaW5lZCxcbiAgICAgIHBsYXllcl9zdGF0czogcm93LnBsYXllcl9zdGF0cyA/IEpTT04ucGFyc2Uocm93LnBsYXllcl9zdGF0cykgOiB1bmRlZmluZWQsXG4gICAgICBjcmVhdGVkX2F0OiByb3cuY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy51cGRhdGVkX2F0LFxuICAgICAgdGVhbTE6IHJvdy50ZWFtMV9uYW1lID8geyBpZDogcm93LnRlYW0xX2lkLCBuYW1lOiByb3cudGVhbTFfbmFtZSwgZmxhZ191cmw6IHJvdy50ZWFtMV9mbGFnLCBjcmVhdGVkX2F0OiAnJyB9IDogdW5kZWZpbmVkLFxuICAgICAgdGVhbTI6IHJvdy50ZWFtMl9uYW1lID8geyBpZDogcm93LnRlYW0yX2lkLCBuYW1lOiByb3cudGVhbTJfbmFtZSwgZmxhZ191cmw6IHJvdy50ZWFtMl9mbGFnLCBjcmVhdGVkX2F0OiAnJyB9IDogdW5kZWZpbmVkLFxuICAgICAgdG91cm5hbWVudDogcm93LnRvdXJuYW1lbnRfbmFtZSA/IHsgaWQ6IHJvdy50b3VybmFtZW50X2lkLCBuYW1lOiByb3cudG91cm5hbWVudF9uYW1lLCBsb2dvX3VybDogcm93LnRvdXJuYW1lbnRfbG9nbywgY3JlYXRlZF9hdDogJycgfSA6IHVuZGVmaW5lZFxuICAgIH07XG4gIH1cblxuICAvLyBHZXQgYWxsIHRlYW1zXG4gIGdldFRlYW1zKCk6IFRlYW1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0ZWFtcyBPUkRFUiBCWSBuYW1lJykuYWxsKCkgYXMgVGVhbVtdO1xuICB9XG5cbiAgLy8gR2V0IGFsbCB0b3VybmFtZW50c1xuICBnZXRUb3VybmFtZW50cygpOiBUb3VybmFtZW50W10ge1xuICAgIHJldHVybiB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gdG91cm5hbWVudHMgT1JERVIgQlkgbmFtZScpLmFsbCgpIGFzIFRvdXJuYW1lbnRbXTtcbiAgfVxuXG4gIC8vIExvZyBzY3JhcGluZyBhY3Rpdml0eVxuICBsb2dTY3JhcGluZyh0eXBlOiBzdHJpbmcsIHVybDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZywgZXJyb3JNZXNzYWdlPzogc3RyaW5nLCBtYXRjaGVzRm91bmQgPSAwKTogdm9pZCB7XG4gICAgdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBJTlRPIHNjcmFwaW5nX2xvZ3MgKHNjcmFwZV90eXBlLCB1cmwsIHN0YXR1cywgZXJyb3JfbWVzc2FnZSwgbWF0Y2hlc19mb3VuZClcbiAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPylcbiAgICBgKS5ydW4odHlwZSwgdXJsLCBzdGF0dXMsIGVycm9yTWVzc2FnZSwgbWF0Y2hlc0ZvdW5kKTtcbiAgfVxuXG4gIC8vIEdldCBzY3JhcGluZyBsb2dzXG4gIGdldFNjcmFwaW5nTG9ncyhsaW1pdCA9IDIwKTogU2NyYXBpbmdMb2dbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgKiBGUk9NIHNjcmFwaW5nX2xvZ3MgXG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MgXG4gICAgICBMSU1JVCA/XG4gICAgYCkuYWxsKGxpbWl0KSBhcyBTY3JhcGluZ0xvZ1tdO1xuICB9XG5cbiAgLy8gR2V0IGRhdGFiYXNlIHN0YXRpc3RpY3NcbiAgZ2V0U3RhdHMoKSB7XG4gICAgY29uc3QgbWF0Y2hDb3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gbWF0Y2hlcycpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IGxpdmVDb3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gbWF0Y2hlcyBXSEVSRSBzdGF0dXMgPSBcImxpdmVcIicpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IHVwY29taW5nQ291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIG1hdGNoZXMgV0hFUkUgc3RhdHVzID0gXCJ1cGNvbWluZ1wiJykuZ2V0KCkgYXMgeyBjb3VudDogbnVtYmVyIH07XG4gICAgY29uc3QgY29tcGxldGVkQ291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIG1hdGNoZXMgV0hFUkUgc3RhdHVzID0gXCJjb21wbGV0ZWRcIicpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IHRlYW1Db3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdGVhbXMnKS5nZXQoKSBhcyB7IGNvdW50OiBudW1iZXIgfTtcbiAgICBjb25zdCB0b3VybmFtZW50Q291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHRvdXJuYW1lbnRzJykuZ2V0KCkgYXMgeyBjb3VudDogbnVtYmVyIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxfbWF0Y2hlczogbWF0Y2hDb3VudC5jb3VudCxcbiAgICAgIGxpdmVfbWF0Y2hlczogbGl2ZUNvdW50LmNvdW50LFxuICAgICAgdXBjb21pbmdfbWF0Y2hlczogdXBjb21pbmdDb3VudC5jb3VudCxcbiAgICAgIGNvbXBsZXRlZF9tYXRjaGVzOiBjb21wbGV0ZWRDb3VudC5jb3VudCxcbiAgICAgIHRvdGFsX3RlYW1zOiB0ZWFtQ291bnQuY291bnQsXG4gICAgICB0b3RhbF90b3VybmFtZW50czogdG91cm5hbWVudENvdW50LmNvdW50XG4gICAgfTtcbiAgfVxufSJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInBhdGgiLCJkYiIsImdldERhdGFiYXNlIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJwcmFnbWEiLCJpbml0aWFsaXplU2NoZW1hIiwiZXhlYyIsIkRhdGFiYXNlU2VydmljZSIsImNvbnN0cnVjdG9yIiwiZ2V0T3JDcmVhdGVUZWFtIiwibmFtZSIsImZsYWdVcmwiLCJsb2dvVXJsIiwidG9Mb3dlckNhc2UiLCJFcnJvciIsImV4aXN0aW5nIiwicHJlcGFyZSIsImdldCIsInJlc3VsdCIsInJ1biIsImlkIiwibGFzdEluc2VydFJvd2lkIiwiZmxhZ191cmwiLCJsb2dvX3VybCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZXRPckNyZWF0ZVRvdXJuYW1lbnQiLCJzYXZlTWF0Y2giLCJtYXRjaERhdGEiLCJ0cmFuc2FjdGlvbiIsInRlYW0xIiwidGVhbTIiLCJ0b3VybmFtZW50IiwidGVhbTFfbmFtZSIsInRlYW0yX25hbWUiLCJ0b3VybmFtZW50X25hbWUiLCJ2bHJfbWF0Y2hfaWQiLCJub3ciLCJzdGF0dXMiLCJtYXRjaF90aW1lIiwibWF0Y2hfZm9ybWF0Iiwic3RhZ2UiLCJ0ZWFtMV9zY29yZSIsInRlYW0yX3Njb3JlIiwibWF0Y2hfdXJsIiwidm9kX3VybCIsInN0YXRzX3VybCIsIm1hcHNfZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwbGF5ZXJfc3RhdHMiLCJ1cGRhdGVkX2F0IiwidGVhbTFfaWQiLCJ0ZWFtMl9pZCIsInRvdXJuYW1lbnRfaWQiLCJnZXRNYXRjaGVzIiwibGltaXQiLCJvZmZzZXQiLCJxdWVyeSIsInBhcmFtcyIsInB1c2giLCJjb3VudFF1ZXJ5IiwidG90YWxSZXN1bHQiLCJyb3dzIiwiYWxsIiwibWF0Y2hlcyIsIm1hcCIsInJvdyIsInBhcnNlIiwidW5kZWZpbmVkIiwidGVhbTFfZmxhZyIsInRlYW0yX2ZsYWciLCJ0b3VybmFtZW50X2xvZ28iLCJ0b3RhbCIsImNvdW50IiwiZ2V0TWF0Y2giLCJnZXRUZWFtcyIsImdldFRvdXJuYW1lbnRzIiwibG9nU2NyYXBpbmciLCJ0eXBlIiwidXJsIiwiZXJyb3JNZXNzYWdlIiwibWF0Y2hlc0ZvdW5kIiwiZ2V0U2NyYXBpbmdMb2dzIiwiZ2V0U3RhdHMiLCJtYXRjaENvdW50IiwibGl2ZUNvdW50IiwidXBjb21pbmdDb3VudCIsImNvbXBsZXRlZENvdW50IiwidGVhbUNvdW50IiwidG91cm5hbWVudENvdW50IiwidG90YWxfbWF0Y2hlcyIsImxpdmVfbWF0Y2hlcyIsInVwY29taW5nX21hdGNoZXMiLCJjb21wbGV0ZWRfbWF0Y2hlcyIsInRvdGFsX3RlYW1zIiwidG90YWxfdG91cm5hbWVudHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Fresults%2Froute&page=%2Fapi%2Fmatches%2Fresults%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Fresults%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();