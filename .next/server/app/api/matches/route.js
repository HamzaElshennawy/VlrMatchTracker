/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/matches/route";
exports.ids = ["app/api/matches/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Froute&page=%2Fapi%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Froute&page=%2Fapi%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_src_app_api_matches_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/matches/route.ts */ \"(rsc)/./src/app/api/matches/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/matches/route\",\n        pathname: \"/api/matches\",\n        filename: \"route\",\n        bundlePath: \"app/api/matches/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/matches/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_matches_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZtYXRjaGVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZtYXRjaGVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbWF0Y2hlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNHO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL21hdGNoZXMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL21hdGNoZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tYXRjaGVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tYXRjaGVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9tYXRjaGVzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Froute&page=%2Fapi%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/matches/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/matches/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n\n\nasync function GET(request) {\n    try {\n        const db = new _lib_database__WEBPACK_IMPORTED_MODULE_1__.DatabaseService();\n        const searchParams = request.nextUrl.searchParams;\n        const status = searchParams.get('status') || 'all';\n        const page = parseInt(searchParams.get('page') || '1');\n        const limit = parseInt(searchParams.get('limit') || '50');\n        const offset = (page - 1) * limit;\n        const result = db.getMatches(status, limit, offset);\n        const response = {\n            matches: result.matches,\n            total: result.total,\n            page,\n            per_page: limit,\n            has_next: offset + limit < result.total\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: response\n        });\n    } catch (error) {\n        console.error('Error fetching matches:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Failed to fetch matches'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tYXRjaGVzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNQO0FBRzFDLGVBQWVFLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNQyxLQUFLLElBQUlILDBEQUFlQTtRQUM5QixNQUFNSSxlQUFlRixRQUFRRyxPQUFPLENBQUNELFlBQVk7UUFFakQsTUFBTUUsU0FBU0YsYUFBYUcsR0FBRyxDQUFDLGFBQWE7UUFDN0MsTUFBTUMsT0FBT0MsU0FBU0wsYUFBYUcsR0FBRyxDQUFDLFdBQVc7UUFDbEQsTUFBTUcsUUFBUUQsU0FBU0wsYUFBYUcsR0FBRyxDQUFDLFlBQVk7UUFDcEQsTUFBTUksU0FBUyxDQUFDSCxPQUFPLEtBQUtFO1FBRTVCLE1BQU1FLFNBQVNULEdBQUdVLFVBQVUsQ0FBQ1AsUUFBUUksT0FBT0M7UUFFNUMsTUFBTUcsV0FBOEI7WUFDbENDLFNBQVNILE9BQU9HLE9BQU87WUFDdkJDLE9BQU9KLE9BQU9JLEtBQUs7WUFDbkJSO1lBQ0FTLFVBQVVQO1lBQ1ZRLFVBQVVQLFNBQVNELFFBQVFFLE9BQU9JLEtBQUs7UUFDekM7UUFFQSxPQUFPakIscURBQVlBLENBQUNvQixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEMsTUFBTVA7UUFDUjtJQUVGLEVBQUUsT0FBT1EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPdkIscURBQVlBLENBQUNvQixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEUsT0FBTztRQUNULEdBQXdCO1lBQUVoQixRQUFRO1FBQUk7SUFDeEM7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9tYXRjaGVzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBEYXRhYmFzZVNlcnZpY2UgfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XG5pbXBvcnQgeyBBcGlSZXNwb25zZSwgTWF0Y2hMaXN0UmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRiID0gbmV3IERhdGFiYXNlU2VydmljZSgpO1xuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXM7XG4gICAgXG4gICAgY29uc3Qgc3RhdHVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJykgfHwgJ2FsbCc7XG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSB8fCAnMScpO1xuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSB8fCAnNTAnKTtcbiAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXQ7XG5cbiAgICBjb25zdCByZXN1bHQgPSBkYi5nZXRNYXRjaGVzKHN0YXR1cywgbGltaXQsIG9mZnNldCk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2U6IE1hdGNoTGlzdFJlc3BvbnNlID0ge1xuICAgICAgbWF0Y2hlczogcmVzdWx0Lm1hdGNoZXMsXG4gICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgcGFnZSxcbiAgICAgIHBlcl9wYWdlOiBsaW1pdCxcbiAgICAgIGhhc19uZXh0OiBvZmZzZXQgKyBsaW1pdCA8IHJlc3VsdC50b3RhbFxuICAgIH07XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHJlc3BvbnNlXG4gICAgfSBhcyBBcGlSZXNwb25zZTxNYXRjaExpc3RSZXNwb25zZT4pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWF0Y2hlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggbWF0Y2hlcydcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkRhdGFiYXNlU2VydmljZSIsIkdFVCIsInJlcXVlc3QiLCJkYiIsInNlYXJjaFBhcmFtcyIsIm5leHRVcmwiLCJzdGF0dXMiLCJnZXQiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsIm9mZnNldCIsInJlc3VsdCIsImdldE1hdGNoZXMiLCJyZXNwb25zZSIsIm1hdGNoZXMiLCJ0b3RhbCIsInBlcl9wYWdlIiwiaGFzX25leHQiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/matches/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseService: () => (/* binding */ DatabaseService),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Database instance\nlet db = null;\nfunction getDatabase() {\n    if (!db) {\n        const dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'vlr_matches.db');\n        db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n        // Enable WAL mode for better performance\n        db.pragma('journal_mode = WAL');\n        // Initialize database schema\n        initializeSchema();\n    }\n    return db;\n}\nfunction initializeSchema() {\n    const db = getDatabase();\n    // Create tables\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teams (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL UNIQUE,\n      flag_url TEXT,\n      logo_url TEXT,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    CREATE TABLE IF NOT EXISTS tournaments (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL UNIQUE,\n      logo_url TEXT,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    CREATE TABLE IF NOT EXISTS matches (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      vlr_match_id TEXT NOT NULL UNIQUE,\n      team1_id INTEGER,\n      team2_id INTEGER,\n      tournament_id INTEGER,\n      status TEXT NOT NULL DEFAULT 'upcoming',\n      match_time DATETIME,\n      match_format TEXT DEFAULT 'Bo3',\n      stage TEXT,\n      team1_score INTEGER DEFAULT 0,\n      team2_score INTEGER DEFAULT 0,\n      match_url TEXT,\n      vod_url TEXT,\n      stats_url TEXT,\n      maps_data TEXT, -- JSON string\n      player_stats TEXT, -- JSON string\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (team1_id) REFERENCES teams (id),\n      FOREIGN KEY (team2_id) REFERENCES teams (id),\n      FOREIGN KEY (tournament_id) REFERENCES tournaments (id)\n    );\n\n    CREATE TABLE IF NOT EXISTS scraping_logs (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      scrape_type TEXT NOT NULL,\n      url TEXT NOT NULL,\n      status TEXT NOT NULL,\n      error_message TEXT,\n      matches_found INTEGER DEFAULT 0,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    -- Indexes for performance\n    CREATE INDEX IF NOT EXISTS idx_matches_status ON matches(status);\n    CREATE INDEX IF NOT EXISTS idx_matches_vlr_id ON matches(vlr_match_id);\n    CREATE INDEX IF NOT EXISTS idx_matches_time ON matches(match_time);\n    CREATE INDEX IF NOT EXISTS idx_scraping_logs_created ON scraping_logs(created_at);\n  `);\n}\nclass DatabaseService {\n    constructor(){\n        this.db = getDatabase();\n    }\n    // Team operations\n    getOrCreateTeam(name, flagUrl, logoUrl) {\n        if (!name || name.toLowerCase() === 'tbd' || name === 'â€“' || name === '-') {\n            throw new Error('Invalid team name');\n        }\n        // Try to find existing team\n        const existing = this.db.prepare('SELECT * FROM teams WHERE name = ?').get(name);\n        if (existing) {\n            return existing;\n        }\n        // Create new team\n        const result = this.db.prepare(`\n      INSERT INTO teams (name, flag_url, logo_url)\n      VALUES (?, ?, ?)\n    `).run(name, flagUrl, logoUrl);\n        return {\n            id: result.lastInsertRowid,\n            name,\n            flag_url: flagUrl,\n            logo_url: logoUrl,\n            created_at: new Date().toISOString()\n        };\n    }\n    // Tournament operations\n    getOrCreateTournament(name, logoUrl) {\n        if (!name) {\n            throw new Error('Invalid tournament name');\n        }\n        // Try to find existing tournament\n        const existing = this.db.prepare('SELECT * FROM tournaments WHERE name = ?').get(name);\n        if (existing) {\n            return existing;\n        }\n        // Create new tournament\n        const result = this.db.prepare(`\n      INSERT INTO tournaments (name, logo_url)\n      VALUES (?, ?)\n    `).run(name, logoUrl);\n        return {\n            id: result.lastInsertRowid,\n            name,\n            logo_url: logoUrl,\n            created_at: new Date().toISOString()\n        };\n    }\n    // Match operations\n    saveMatch(matchData) {\n        const transaction = this.db.transaction(()=>{\n            // Get or create teams and tournament\n            let team1;\n            let team2;\n            let tournament;\n            if (matchData.team1_name) {\n                team1 = this.getOrCreateTeam(matchData.team1_name);\n            }\n            if (matchData.team2_name) {\n                team2 = this.getOrCreateTeam(matchData.team2_name);\n            }\n            if (matchData.tournament_name) {\n                tournament = this.getOrCreateTournament(matchData.tournament_name);\n            }\n            // Check if match exists\n            const existing = this.db.prepare('SELECT * FROM matches WHERE vlr_match_id = ?').get(matchData.vlr_match_id);\n            const now = new Date().toISOString();\n            if (existing) {\n                // Update existing match\n                this.db.prepare(`\n          UPDATE matches SET\n            team1_id = ?,\n            team2_id = ?,\n            tournament_id = ?,\n            status = ?,\n            match_time = ?,\n            match_format = ?,\n            stage = ?,\n            team1_score = ?,\n            team2_score = ?,\n            match_url = ?,\n            vod_url = ?,\n            stats_url = ?,\n            maps_data = ?,\n            player_stats = ?,\n            updated_at = ?\n          WHERE vlr_match_id = ?\n        `).run(team1?.id, team2?.id, tournament?.id, matchData.status, matchData.match_time, matchData.match_format, matchData.stage, matchData.team1_score, matchData.team2_score, matchData.match_url, matchData.vod_url, matchData.stats_url, matchData.maps_data ? JSON.stringify(matchData.maps_data) : null, matchData.player_stats ? JSON.stringify(matchData.player_stats) : null, now, matchData.vlr_match_id);\n                return {\n                    ...existing,\n                    updated_at: now\n                };\n            } else {\n                // Create new match\n                const result = this.db.prepare(`\n          INSERT INTO matches (\n            vlr_match_id, team1_id, team2_id, tournament_id, status,\n            match_time, match_format, stage, team1_score, team2_score,\n            match_url, vod_url, stats_url, maps_data, player_stats\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        `).run(matchData.vlr_match_id, team1?.id, team2?.id, tournament?.id, matchData.status, matchData.match_time, matchData.match_format, matchData.stage, matchData.team1_score, matchData.team2_score, matchData.match_url, matchData.vod_url, matchData.stats_url, matchData.maps_data ? JSON.stringify(matchData.maps_data) : null, matchData.player_stats ? JSON.stringify(matchData.player_stats) : null);\n                return {\n                    id: result.lastInsertRowid,\n                    vlr_match_id: matchData.vlr_match_id,\n                    team1_id: team1?.id,\n                    team2_id: team2?.id,\n                    tournament_id: tournament?.id,\n                    status: matchData.status,\n                    match_time: matchData.match_time,\n                    match_format: matchData.match_format,\n                    stage: matchData.stage,\n                    team1_score: matchData.team1_score,\n                    team2_score: matchData.team2_score,\n                    match_url: matchData.match_url,\n                    vod_url: matchData.vod_url,\n                    stats_url: matchData.stats_url,\n                    maps_data: matchData.maps_data,\n                    player_stats: matchData.player_stats,\n                    created_at: now,\n                    updated_at: now\n                };\n            }\n        });\n        return transaction();\n    }\n    // Get matches with filtering\n    getMatches(status, limit = 50, offset = 0) {\n        let query = `\n      SELECT \n        m.*,\n        t1.name as team1_name, t1.flag_url as team1_flag,\n        t2.name as team2_name, t2.flag_url as team2_flag,\n        tour.name as tournament_name, tour.logo_url as tournament_logo\n      FROM matches m\n      LEFT JOIN teams t1 ON m.team1_id = t1.id\n      LEFT JOIN teams t2 ON m.team2_id = t2.id\n      LEFT JOIN tournaments tour ON m.tournament_id = tour.id\n    `;\n        const params = [];\n        if (status && status !== 'all') {\n            query += ' WHERE m.status = ?';\n            params.push(status);\n        }\n        // Get total count\n        let countQuery = 'SELECT COUNT(*) as count FROM matches m';\n        if (status && status !== 'all') {\n            countQuery += ' WHERE status = ?';\n        }\n        const totalResult = this.db.prepare(countQuery).get(status && status !== 'all' ? [\n            status\n        ] : []);\n        // Add ordering and pagination\n        query += ' ORDER BY m.created_at DESC LIMIT ? OFFSET ?';\n        params.push(limit, offset);\n        const rows = this.db.prepare(query).all(params);\n        const matches = rows.map((row)=>({\n                id: row.id,\n                vlr_match_id: row.vlr_match_id,\n                team1_id: row.team1_id,\n                team2_id: row.team2_id,\n                tournament_id: row.tournament_id,\n                status: row.status,\n                match_time: row.match_time,\n                match_format: row.match_format,\n                stage: row.stage,\n                team1_score: row.team1_score,\n                team2_score: row.team2_score,\n                match_url: row.match_url,\n                vod_url: row.vod_url,\n                stats_url: row.stats_url,\n                maps_data: row.maps_data ? JSON.parse(row.maps_data) : undefined,\n                player_stats: row.player_stats ? JSON.parse(row.player_stats) : undefined,\n                created_at: row.created_at,\n                updated_at: row.updated_at,\n                team1: row.team1_name ? {\n                    id: row.team1_id,\n                    name: row.team1_name,\n                    flag_url: row.team1_flag,\n                    created_at: ''\n                } : undefined,\n                team2: row.team2_name ? {\n                    id: row.team2_id,\n                    name: row.team2_name,\n                    flag_url: row.team2_flag,\n                    created_at: ''\n                } : undefined,\n                tournament: row.tournament_name ? {\n                    id: row.tournament_id,\n                    name: row.tournament_name,\n                    logo_url: row.tournament_logo,\n                    created_at: ''\n                } : undefined\n            }));\n        return {\n            matches,\n            total: totalResult.count\n        };\n    }\n    // Get single match by ID\n    getMatch(id) {\n        const row = this.db.prepare(`\n      SELECT \n        m.*,\n        t1.name as team1_name, t1.flag_url as team1_flag,\n        t2.name as team2_name, t2.flag_url as team2_flag,\n        tour.name as tournament_name, tour.logo_url as tournament_logo\n      FROM matches m\n      LEFT JOIN teams t1 ON m.team1_id = t1.id\n      LEFT JOIN teams t2 ON m.team2_id = t2.id\n      LEFT JOIN tournaments tour ON m.tournament_id = tour.id\n      WHERE m.id = ?\n    `).get(id);\n        if (!row) return null;\n        return {\n            id: row.id,\n            vlr_match_id: row.vlr_match_id,\n            team1_id: row.team1_id,\n            team2_id: row.team2_id,\n            tournament_id: row.tournament_id,\n            status: row.status,\n            match_time: row.match_time,\n            match_format: row.match_format,\n            stage: row.stage,\n            team1_score: row.team1_score,\n            team2_score: row.team2_score,\n            match_url: row.match_url,\n            vod_url: row.vod_url,\n            stats_url: row.stats_url,\n            maps_data: row.maps_data ? JSON.parse(row.maps_data) : undefined,\n            player_stats: row.player_stats ? JSON.parse(row.player_stats) : undefined,\n            created_at: row.created_at,\n            updated_at: row.updated_at,\n            team1: row.team1_name ? {\n                id: row.team1_id,\n                name: row.team1_name,\n                flag_url: row.team1_flag,\n                created_at: ''\n            } : undefined,\n            team2: row.team2_name ? {\n                id: row.team2_id,\n                name: row.team2_name,\n                flag_url: row.team2_flag,\n                created_at: ''\n            } : undefined,\n            tournament: row.tournament_name ? {\n                id: row.tournament_id,\n                name: row.tournament_name,\n                logo_url: row.tournament_logo,\n                created_at: ''\n            } : undefined\n        };\n    }\n    // Get all teams\n    getTeams() {\n        return this.db.prepare('SELECT * FROM teams ORDER BY name').all();\n    }\n    // Get all tournaments\n    getTournaments() {\n        return this.db.prepare('SELECT * FROM tournaments ORDER BY name').all();\n    }\n    // Log scraping activity\n    logScraping(type, url, status, errorMessage, matchesFound = 0) {\n        this.db.prepare(`\n      INSERT INTO scraping_logs (scrape_type, url, status, error_message, matches_found)\n      VALUES (?, ?, ?, ?, ?)\n    `).run(type, url, status, errorMessage, matchesFound);\n    }\n    // Get scraping logs\n    getScrapingLogs(limit = 20) {\n        return this.db.prepare(`\n      SELECT * FROM scraping_logs \n      ORDER BY created_at DESC \n      LIMIT ?\n    `).all(limit);\n    }\n    // Clean text content by removing excessive whitespace and VLR artifacts\n    cleanTextContent(text) {\n        if (!text) return text;\n        // Remove all excessive whitespace, tabs, and newlines\n        let cleaned = text.replace(/[\\t\\n\\r\\s]+/g, ' ').trim();\n        // Remove common VLR.gg artifacts and formatting\n        cleaned = cleaned.replace(/\\b(PICK|BAN|DECIDER)\\b/gi, '').trim();\n        // Remove timestamps (patterns like \"16:30\", \"47:21\", etc.)\n        cleaned = cleaned.replace(/\\b\\d{1,2}:\\d{2}\\b/g, '').trim();\n        // Clean up any double spaces that might remain\n        cleaned = cleaned.replace(/\\s{2,}/g, ' ').trim();\n        return cleaned;\n    }\n    // Clean up existing database records with formatting issues\n    cleanExistingData() {\n        console.log('Cleaning existing database records...');\n        // Clean tournament names\n        const tournaments = this.db.prepare('SELECT id, name FROM tournaments').all();\n        let tournamentsUpdated = 0;\n        const updateTournament = this.db.prepare('UPDATE tournaments SET name = ? WHERE id = ?');\n        const checkExisting = this.db.prepare('SELECT COUNT(*) as count FROM tournaments WHERE name = ? AND id != ?');\n        for (const tournament of tournaments){\n            const cleanedName = this.cleanTextContent(tournament.name);\n            if (cleanedName !== tournament.name) {\n                // Check if cleaned name would conflict with existing tournament\n                const existing = checkExisting.get(cleanedName, tournament.id);\n                if (existing.count === 0) {\n                    try {\n                        updateTournament.run(cleanedName, tournament.id);\n                        tournamentsUpdated++;\n                    } catch (error) {\n                        console.log(`Skipping tournament ${tournament.id} due to constraint: ${error}`);\n                    }\n                } else {\n                    console.log(`Skipping tournament ${tournament.id} - cleaned name would conflict`);\n                }\n            }\n        }\n        // Clean team names  \n        const teams = this.db.prepare('SELECT id, name FROM teams').all();\n        let teamsUpdated = 0;\n        const updateTeam = this.db.prepare('UPDATE teams SET name = ? WHERE id = ?');\n        const checkExistingTeam = this.db.prepare('SELECT COUNT(*) as count FROM teams WHERE name = ? AND id != ?');\n        for (const team of teams){\n            const cleanedName = this.cleanTextContent(team.name);\n            if (cleanedName !== team.name) {\n                // Check if cleaned name would conflict with existing team\n                const existing = checkExistingTeam.get(cleanedName, team.id);\n                if (existing.count === 0) {\n                    try {\n                        updateTeam.run(cleanedName, team.id);\n                        teamsUpdated++;\n                    } catch (error) {\n                        console.log(`Skipping team ${team.id} due to constraint: ${error}`);\n                    }\n                } else {\n                    console.log(`Skipping team ${team.id} - cleaned name would conflict`);\n                }\n            }\n        }\n        console.log(`Cleaned ${tournamentsUpdated} tournaments and ${teamsUpdated} teams`);\n        return {\n            tournamentsUpdated,\n            teamsUpdated\n        };\n    }\n    // Get database statistics\n    getStats() {\n        const matchCount = this.db.prepare('SELECT COUNT(*) as count FROM matches').get();\n        const liveCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"live\"').get();\n        const upcomingCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"upcoming\"').get();\n        const completedCount = this.db.prepare('SELECT COUNT(*) as count FROM matches WHERE status = \"completed\"').get();\n        const teamCount = this.db.prepare('SELECT COUNT(*) as count FROM teams').get();\n        const tournamentCount = this.db.prepare('SELECT COUNT(*) as count FROM tournaments').get();\n        return {\n            total_matches: matchCount.count,\n            live_matches: liveCount.count,\n            upcoming_matches: upcomingCount.count,\n            completed_matches: completedCount.count,\n            total_teams: teamCount.count,\n            total_tournaments: tournamentCount.count\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhTixVQUFVbEMsS0FBSztZQUM1QnlDLG1CQUFtQk4sZ0JBQWdCbkMsS0FBSztRQUMxQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2xpYi9kYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YWJhc2UgZnJvbSAnYmV0dGVyLXNxbGl0ZTMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBUZWFtLCBUb3VybmFtZW50LCBNYXRjaCwgU2NyYXBpbmdMb2csIE1hdGNoRGV0YWlsU2NyYXBlRGF0YSB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyBEYXRhYmFzZSBpbnN0YW5jZVxubGV0IGRiOiBEYXRhYmFzZS5EYXRhYmFzZSB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YWJhc2UoKTogRGF0YWJhc2UuRGF0YWJhc2Uge1xuICBpZiAoIWRiKSB7XG4gICAgY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICd2bHJfbWF0Y2hlcy5kYicpO1xuICAgIGRiID0gbmV3IERhdGFiYXNlKGRiUGF0aCk7XG4gICAgXG4gICAgLy8gRW5hYmxlIFdBTCBtb2RlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBkYi5wcmFnbWEoJ2pvdXJuYWxfbW9kZSA9IFdBTCcpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hXG4gICAgaW5pdGlhbGl6ZVNjaGVtYSgpO1xuICB9XG4gIHJldHVybiBkYjtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVNjaGVtYSgpIHtcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xuICBcbiAgLy8gQ3JlYXRlIHRhYmxlc1xuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB0ZWFtcyAoXG4gICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICBuYW1lIFRFWFQgTk9UIE5VTEwgVU5JUVVFLFxuICAgICAgZmxhZ191cmwgVEVYVCxcbiAgICAgIGxvZ29fdXJsIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICApO1xuXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdG91cm5hbWVudHMgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAgIGxvZ29fdXJsIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICApO1xuXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbWF0Y2hlcyAoXG4gICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICB2bHJfbWF0Y2hfaWQgVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgICB0ZWFtMV9pZCBJTlRFR0VSLFxuICAgICAgdGVhbTJfaWQgSU5URUdFUixcbiAgICAgIHRvdXJuYW1lbnRfaWQgSU5URUdFUixcbiAgICAgIHN0YXR1cyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ3VwY29taW5nJyxcbiAgICAgIG1hdGNoX3RpbWUgREFURVRJTUUsXG4gICAgICBtYXRjaF9mb3JtYXQgVEVYVCBERUZBVUxUICdCbzMnLFxuICAgICAgc3RhZ2UgVEVYVCxcbiAgICAgIHRlYW0xX3Njb3JlIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgdGVhbTJfc2NvcmUgSU5URUdFUiBERUZBVUxUIDAsXG4gICAgICBtYXRjaF91cmwgVEVYVCxcbiAgICAgIHZvZF91cmwgVEVYVCxcbiAgICAgIHN0YXRzX3VybCBURVhULFxuICAgICAgbWFwc19kYXRhIFRFWFQsIC0tIEpTT04gc3RyaW5nXG4gICAgICBwbGF5ZXJfc3RhdHMgVEVYVCwgLS0gSlNPTiBzdHJpbmdcbiAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgIEZPUkVJR04gS0VZICh0ZWFtMV9pZCkgUkVGRVJFTkNFUyB0ZWFtcyAoaWQpLFxuICAgICAgRk9SRUlHTiBLRVkgKHRlYW0yX2lkKSBSRUZFUkVOQ0VTIHRlYW1zIChpZCksXG4gICAgICBGT1JFSUdOIEtFWSAodG91cm5hbWVudF9pZCkgUkVGRVJFTkNFUyB0b3VybmFtZW50cyAoaWQpXG4gICAgKTtcblxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNjcmFwaW5nX2xvZ3MgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgc2NyYXBlX3R5cGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVybCBURVhUIE5PVCBOVUxMLFxuICAgICAgc3RhdHVzIFRFWFQgTk9UIE5VTEwsXG4gICAgICBlcnJvcl9tZXNzYWdlIFRFWFQsXG4gICAgICBtYXRjaGVzX2ZvdW5kIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgKTtcblxuICAgIC0tIEluZGV4ZXMgZm9yIHBlcmZvcm1hbmNlXG4gICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X21hdGNoZXNfc3RhdHVzIE9OIG1hdGNoZXMoc3RhdHVzKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfbWF0Y2hlc192bHJfaWQgT04gbWF0Y2hlcyh2bHJfbWF0Y2hfaWQpO1xuICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9tYXRjaGVzX3RpbWUgT04gbWF0Y2hlcyhtYXRjaF90aW1lKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfc2NyYXBpbmdfbG9nc19jcmVhdGVkIE9OIHNjcmFwaW5nX2xvZ3MoY3JlYXRlZF9hdCk7XG4gIGApO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2UuRGF0YWJhc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYiA9IGdldERhdGFiYXNlKCk7XG4gIH1cblxuICAvLyBUZWFtIG9wZXJhdGlvbnNcbiAgZ2V0T3JDcmVhdGVUZWFtKG5hbWU6IHN0cmluZywgZmxhZ1VybD86IHN0cmluZywgbG9nb1VybD86IHN0cmluZyk6IFRlYW0ge1xuICAgIGlmICghbmFtZSB8fCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YmQnIHx8IG5hbWUgPT09ICfigJMnIHx8IG5hbWUgPT09ICctJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRlYW0gbmFtZScpO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBmaW5kIGV4aXN0aW5nIHRlYW1cbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0ZWFtcyBXSEVSRSBuYW1lID0gPycpLmdldChuYW1lKSBhcyBUZWFtIHwgdW5kZWZpbmVkO1xuICAgIFxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBuZXcgdGVhbVxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBJTlNFUlQgSU5UTyB0ZWFtcyAobmFtZSwgZmxhZ191cmwsIGxvZ29fdXJsKVxuICAgICAgVkFMVUVTICg/LCA/LCA/KVxuICAgIGApLnJ1bihuYW1lLCBmbGFnVXJsLCBsb2dvVXJsKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcmVzdWx0Lmxhc3RJbnNlcnRSb3dpZCBhcyBudW1iZXIsXG4gICAgICBuYW1lLFxuICAgICAgZmxhZ191cmw6IGZsYWdVcmwsXG4gICAgICBsb2dvX3VybDogbG9nb1VybCxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICAvLyBUb3VybmFtZW50IG9wZXJhdGlvbnNcbiAgZ2V0T3JDcmVhdGVUb3VybmFtZW50KG5hbWU6IHN0cmluZywgbG9nb1VybD86IHN0cmluZyk6IFRvdXJuYW1lbnQge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRvdXJuYW1lbnQgbmFtZScpO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBmaW5kIGV4aXN0aW5nIHRvdXJuYW1lbnRcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0b3VybmFtZW50cyBXSEVSRSBuYW1lID0gPycpLmdldChuYW1lKSBhcyBUb3VybmFtZW50IHwgdW5kZWZpbmVkO1xuICAgIFxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBuZXcgdG91cm5hbWVudFxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBJTlNFUlQgSU5UTyB0b3VybmFtZW50cyAobmFtZSwgbG9nb191cmwpXG4gICAgICBWQUxVRVMgKD8sID8pXG4gICAgYCkucnVuKG5hbWUsIGxvZ29VcmwpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiByZXN1bHQubGFzdEluc2VydFJvd2lkIGFzIG51bWJlcixcbiAgICAgIG5hbWUsXG4gICAgICBsb2dvX3VybDogbG9nb1VybCxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICAvLyBNYXRjaCBvcGVyYXRpb25zXG4gIHNhdmVNYXRjaChtYXRjaERhdGE6IE1hdGNoRGV0YWlsU2NyYXBlRGF0YSk6IE1hdGNoIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oKCkgPT4ge1xuICAgICAgLy8gR2V0IG9yIGNyZWF0ZSB0ZWFtcyBhbmQgdG91cm5hbWVudFxuICAgICAgbGV0IHRlYW0xOiBUZWFtIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IHRlYW0yOiBUZWFtIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IHRvdXJuYW1lbnQ6IFRvdXJuYW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChtYXRjaERhdGEudGVhbTFfbmFtZSkge1xuICAgICAgICB0ZWFtMSA9IHRoaXMuZ2V0T3JDcmVhdGVUZWFtKG1hdGNoRGF0YS50ZWFtMV9uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaERhdGEudGVhbTJfbmFtZSkge1xuICAgICAgICB0ZWFtMiA9IHRoaXMuZ2V0T3JDcmVhdGVUZWFtKG1hdGNoRGF0YS50ZWFtMl9uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaERhdGEudG91cm5hbWVudF9uYW1lKSB7XG4gICAgICAgIHRvdXJuYW1lbnQgPSB0aGlzLmdldE9yQ3JlYXRlVG91cm5hbWVudChtYXRjaERhdGEudG91cm5hbWVudF9uYW1lKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgbWF0Y2ggZXhpc3RzXG4gICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBtYXRjaGVzIFdIRVJFIHZscl9tYXRjaF9pZCA9ID8nKS5nZXQobWF0Y2hEYXRhLnZscl9tYXRjaF9pZCkgYXMgTWF0Y2ggfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBtYXRjaFxuICAgICAgICB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgICAgIFVQREFURSBtYXRjaGVzIFNFVFxuICAgICAgICAgICAgdGVhbTFfaWQgPSA/LFxuICAgICAgICAgICAgdGVhbTJfaWQgPSA/LFxuICAgICAgICAgICAgdG91cm5hbWVudF9pZCA9ID8sXG4gICAgICAgICAgICBzdGF0dXMgPSA/LFxuICAgICAgICAgICAgbWF0Y2hfdGltZSA9ID8sXG4gICAgICAgICAgICBtYXRjaF9mb3JtYXQgPSA/LFxuICAgICAgICAgICAgc3RhZ2UgPSA/LFxuICAgICAgICAgICAgdGVhbTFfc2NvcmUgPSA/LFxuICAgICAgICAgICAgdGVhbTJfc2NvcmUgPSA/LFxuICAgICAgICAgICAgbWF0Y2hfdXJsID0gPyxcbiAgICAgICAgICAgIHZvZF91cmwgPSA/LFxuICAgICAgICAgICAgc3RhdHNfdXJsID0gPyxcbiAgICAgICAgICAgIG1hcHNfZGF0YSA9ID8sXG4gICAgICAgICAgICBwbGF5ZXJfc3RhdHMgPSA/LFxuICAgICAgICAgICAgdXBkYXRlZF9hdCA9ID9cbiAgICAgICAgICBXSEVSRSB2bHJfbWF0Y2hfaWQgPSA/XG4gICAgICAgIGApLnJ1bihcbiAgICAgICAgICB0ZWFtMT8uaWQsXG4gICAgICAgICAgdGVhbTI/LmlkLFxuICAgICAgICAgIHRvdXJuYW1lbnQ/LmlkLFxuICAgICAgICAgIG1hdGNoRGF0YS5zdGF0dXMsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX3RpbWUsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX2Zvcm1hdCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhZ2UsXG4gICAgICAgICAgbWF0Y2hEYXRhLnRlYW0xX3Njb3JlLFxuICAgICAgICAgIG1hdGNoRGF0YS50ZWFtMl9zY29yZSxcbiAgICAgICAgICBtYXRjaERhdGEubWF0Y2hfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS52b2RfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS5zdGF0c191cmwsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hcHNfZGF0YSA/IEpTT04uc3RyaW5naWZ5KG1hdGNoRGF0YS5tYXBzX2RhdGEpIDogbnVsbCxcbiAgICAgICAgICBtYXRjaERhdGEucGxheWVyX3N0YXRzID8gSlNPTi5zdHJpbmdpZnkobWF0Y2hEYXRhLnBsYXllcl9zdGF0cykgOiBudWxsLFxuICAgICAgICAgIG5vdyxcbiAgICAgICAgICBtYXRjaERhdGEudmxyX21hdGNoX2lkXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHsgLi4uZXhpc3RpbmcsIHVwZGF0ZWRfYXQ6IG5vdyB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBtYXRjaFxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgICAgIElOU0VSVCBJTlRPIG1hdGNoZXMgKFxuICAgICAgICAgICAgdmxyX21hdGNoX2lkLCB0ZWFtMV9pZCwgdGVhbTJfaWQsIHRvdXJuYW1lbnRfaWQsIHN0YXR1cyxcbiAgICAgICAgICAgIG1hdGNoX3RpbWUsIG1hdGNoX2Zvcm1hdCwgc3RhZ2UsIHRlYW0xX3Njb3JlLCB0ZWFtMl9zY29yZSxcbiAgICAgICAgICAgIG1hdGNoX3VybCwgdm9kX3VybCwgc3RhdHNfdXJsLCBtYXBzX2RhdGEsIHBsYXllcl9zdGF0c1xuICAgICAgICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICAgICAgICBgKS5ydW4oXG4gICAgICAgICAgbWF0Y2hEYXRhLnZscl9tYXRjaF9pZCxcbiAgICAgICAgICB0ZWFtMT8uaWQsXG4gICAgICAgICAgdGVhbTI/LmlkLFxuICAgICAgICAgIHRvdXJuYW1lbnQ/LmlkLFxuICAgICAgICAgIG1hdGNoRGF0YS5zdGF0dXMsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX3RpbWUsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hdGNoX2Zvcm1hdCxcbiAgICAgICAgICBtYXRjaERhdGEuc3RhZ2UsXG4gICAgICAgICAgbWF0Y2hEYXRhLnRlYW0xX3Njb3JlLFxuICAgICAgICAgIG1hdGNoRGF0YS50ZWFtMl9zY29yZSxcbiAgICAgICAgICBtYXRjaERhdGEubWF0Y2hfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS52b2RfdXJsLFxuICAgICAgICAgIG1hdGNoRGF0YS5zdGF0c191cmwsXG4gICAgICAgICAgbWF0Y2hEYXRhLm1hcHNfZGF0YSA/IEpTT04uc3RyaW5naWZ5KG1hdGNoRGF0YS5tYXBzX2RhdGEpIDogbnVsbCxcbiAgICAgICAgICBtYXRjaERhdGEucGxheWVyX3N0YXRzID8gSlNPTi5zdHJpbmdpZnkobWF0Y2hEYXRhLnBsYXllcl9zdGF0cykgOiBudWxsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogcmVzdWx0Lmxhc3RJbnNlcnRSb3dpZCBhcyBudW1iZXIsXG4gICAgICAgICAgdmxyX21hdGNoX2lkOiBtYXRjaERhdGEudmxyX21hdGNoX2lkLFxuICAgICAgICAgIHRlYW0xX2lkOiB0ZWFtMT8uaWQsXG4gICAgICAgICAgdGVhbTJfaWQ6IHRlYW0yPy5pZCxcbiAgICAgICAgICB0b3VybmFtZW50X2lkOiB0b3VybmFtZW50Py5pZCxcbiAgICAgICAgICBzdGF0dXM6IG1hdGNoRGF0YS5zdGF0dXMsXG4gICAgICAgICAgbWF0Y2hfdGltZTogbWF0Y2hEYXRhLm1hdGNoX3RpbWUsXG4gICAgICAgICAgbWF0Y2hfZm9ybWF0OiBtYXRjaERhdGEubWF0Y2hfZm9ybWF0LFxuICAgICAgICAgIHN0YWdlOiBtYXRjaERhdGEuc3RhZ2UsXG4gICAgICAgICAgdGVhbTFfc2NvcmU6IG1hdGNoRGF0YS50ZWFtMV9zY29yZSxcbiAgICAgICAgICB0ZWFtMl9zY29yZTogbWF0Y2hEYXRhLnRlYW0yX3Njb3JlLFxuICAgICAgICAgIG1hdGNoX3VybDogbWF0Y2hEYXRhLm1hdGNoX3VybCxcbiAgICAgICAgICB2b2RfdXJsOiBtYXRjaERhdGEudm9kX3VybCxcbiAgICAgICAgICBzdGF0c191cmw6IG1hdGNoRGF0YS5zdGF0c191cmwsXG4gICAgICAgICAgbWFwc19kYXRhOiBtYXRjaERhdGEubWFwc19kYXRhLFxuICAgICAgICAgIHBsYXllcl9zdGF0czogbWF0Y2hEYXRhLnBsYXllcl9zdGF0cyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBub3csXG4gICAgICAgICAgdXBkYXRlZF9hdDogbm93XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJhbnNhY3Rpb24oKTtcbiAgfVxuXG4gIC8vIEdldCBtYXRjaGVzIHdpdGggZmlsdGVyaW5nXG4gIGdldE1hdGNoZXMoc3RhdHVzPzogc3RyaW5nLCBsaW1pdCA9IDUwLCBvZmZzZXQgPSAwKTogeyBtYXRjaGVzOiBNYXRjaFtdOyB0b3RhbDogbnVtYmVyIH0ge1xuICAgIGxldCBxdWVyeSA9IGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgbS4qLFxuICAgICAgICB0MS5uYW1lIGFzIHRlYW0xX25hbWUsIHQxLmZsYWdfdXJsIGFzIHRlYW0xX2ZsYWcsXG4gICAgICAgIHQyLm5hbWUgYXMgdGVhbTJfbmFtZSwgdDIuZmxhZ191cmwgYXMgdGVhbTJfZmxhZyxcbiAgICAgICAgdG91ci5uYW1lIGFzIHRvdXJuYW1lbnRfbmFtZSwgdG91ci5sb2dvX3VybCBhcyB0b3VybmFtZW50X2xvZ29cbiAgICAgIEZST00gbWF0Y2hlcyBtXG4gICAgICBMRUZUIEpPSU4gdGVhbXMgdDEgT04gbS50ZWFtMV9pZCA9IHQxLmlkXG4gICAgICBMRUZUIEpPSU4gdGVhbXMgdDIgT04gbS50ZWFtMl9pZCA9IHQyLmlkXG4gICAgICBMRUZUIEpPSU4gdG91cm5hbWVudHMgdG91ciBPTiBtLnRvdXJuYW1lbnRfaWQgPSB0b3VyLmlkXG4gICAgYDtcblxuICAgIGNvbnN0IHBhcmFtczogYW55W10gPSBbXTtcblxuICAgIGlmIChzdGF0dXMgJiYgc3RhdHVzICE9PSAnYWxsJykge1xuICAgICAgcXVlcnkgKz0gJyBXSEVSRSBtLnN0YXR1cyA9ID8nO1xuICAgICAgcGFyYW1zLnB1c2goc3RhdHVzKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdG90YWwgY291bnRcbiAgICBsZXQgY291bnRRdWVyeSA9ICdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBtYXRjaGVzIG0nO1xuICAgIGlmIChzdGF0dXMgJiYgc3RhdHVzICE9PSAnYWxsJykge1xuICAgICAgY291bnRRdWVyeSArPSAnIFdIRVJFIHN0YXR1cyA9ID8nO1xuICAgIH1cbiAgICBjb25zdCB0b3RhbFJlc3VsdCA9IHRoaXMuZGIucHJlcGFyZShjb3VudFF1ZXJ5KS5nZXQoc3RhdHVzICYmIHN0YXR1cyAhPT0gJ2FsbCcgPyBbc3RhdHVzXSA6IFtdKSBhcyB7IGNvdW50OiBudW1iZXIgfTtcblxuICAgIC8vIEFkZCBvcmRlcmluZyBhbmQgcGFnaW5hdGlvblxuICAgIHF1ZXJ5ICs9ICcgT1JERVIgQlkgbS5jcmVhdGVkX2F0IERFU0MgTElNSVQgPyBPRkZTRVQgPyc7XG4gICAgcGFyYW1zLnB1c2gobGltaXQsIG9mZnNldCk7XG5cbiAgICBjb25zdCByb3dzID0gdGhpcy5kYi5wcmVwYXJlKHF1ZXJ5KS5hbGwocGFyYW1zKSBhcyBhbnlbXTtcblxuICAgIGNvbnN0IG1hdGNoZXM6IE1hdGNoW10gPSByb3dzLm1hcChyb3cgPT4gKHtcbiAgICAgIGlkOiByb3cuaWQsXG4gICAgICB2bHJfbWF0Y2hfaWQ6IHJvdy52bHJfbWF0Y2hfaWQsXG4gICAgICB0ZWFtMV9pZDogcm93LnRlYW0xX2lkLFxuICAgICAgdGVhbTJfaWQ6IHJvdy50ZWFtMl9pZCxcbiAgICAgIHRvdXJuYW1lbnRfaWQ6IHJvdy50b3VybmFtZW50X2lkLFxuICAgICAgc3RhdHVzOiByb3cuc3RhdHVzLFxuICAgICAgbWF0Y2hfdGltZTogcm93Lm1hdGNoX3RpbWUsXG4gICAgICBtYXRjaF9mb3JtYXQ6IHJvdy5tYXRjaF9mb3JtYXQsXG4gICAgICBzdGFnZTogcm93LnN0YWdlLFxuICAgICAgdGVhbTFfc2NvcmU6IHJvdy50ZWFtMV9zY29yZSxcbiAgICAgIHRlYW0yX3Njb3JlOiByb3cudGVhbTJfc2NvcmUsXG4gICAgICBtYXRjaF91cmw6IHJvdy5tYXRjaF91cmwsXG4gICAgICB2b2RfdXJsOiByb3cudm9kX3VybCxcbiAgICAgIHN0YXRzX3VybDogcm93LnN0YXRzX3VybCxcbiAgICAgIG1hcHNfZGF0YTogcm93Lm1hcHNfZGF0YSA/IEpTT04ucGFyc2Uocm93Lm1hcHNfZGF0YSkgOiB1bmRlZmluZWQsXG4gICAgICBwbGF5ZXJfc3RhdHM6IHJvdy5wbGF5ZXJfc3RhdHMgPyBKU09OLnBhcnNlKHJvdy5wbGF5ZXJfc3RhdHMpIDogdW5kZWZpbmVkLFxuICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cudXBkYXRlZF9hdCxcbiAgICAgIHRlYW0xOiByb3cudGVhbTFfbmFtZSA/IHsgaWQ6IHJvdy50ZWFtMV9pZCwgbmFtZTogcm93LnRlYW0xX25hbWUsIGZsYWdfdXJsOiByb3cudGVhbTFfZmxhZywgY3JlYXRlZF9hdDogJycgfSA6IHVuZGVmaW5lZCxcbiAgICAgIHRlYW0yOiByb3cudGVhbTJfbmFtZSA/IHsgaWQ6IHJvdy50ZWFtMl9pZCwgbmFtZTogcm93LnRlYW0yX25hbWUsIGZsYWdfdXJsOiByb3cudGVhbTJfZmxhZywgY3JlYXRlZF9hdDogJycgfSA6IHVuZGVmaW5lZCxcbiAgICAgIHRvdXJuYW1lbnQ6IHJvdy50b3VybmFtZW50X25hbWUgPyB7IGlkOiByb3cudG91cm5hbWVudF9pZCwgbmFtZTogcm93LnRvdXJuYW1lbnRfbmFtZSwgbG9nb191cmw6IHJvdy50b3VybmFtZW50X2xvZ28sIGNyZWF0ZWRfYXQ6ICcnIH0gOiB1bmRlZmluZWRcbiAgICB9KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIHRvdGFsOiB0b3RhbFJlc3VsdC5jb3VudFxuICAgIH07XG4gIH1cblxuICAvLyBHZXQgc2luZ2xlIG1hdGNoIGJ5IElEXG4gIGdldE1hdGNoKGlkOiBudW1iZXIpOiBNYXRjaCB8IG51bGwge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIG0uKixcbiAgICAgICAgdDEubmFtZSBhcyB0ZWFtMV9uYW1lLCB0MS5mbGFnX3VybCBhcyB0ZWFtMV9mbGFnLFxuICAgICAgICB0Mi5uYW1lIGFzIHRlYW0yX25hbWUsIHQyLmZsYWdfdXJsIGFzIHRlYW0yX2ZsYWcsXG4gICAgICAgIHRvdXIubmFtZSBhcyB0b3VybmFtZW50X25hbWUsIHRvdXIubG9nb191cmwgYXMgdG91cm5hbWVudF9sb2dvXG4gICAgICBGUk9NIG1hdGNoZXMgbVxuICAgICAgTEVGVCBKT0lOIHRlYW1zIHQxIE9OIG0udGVhbTFfaWQgPSB0MS5pZFxuICAgICAgTEVGVCBKT0lOIHRlYW1zIHQyIE9OIG0udGVhbTJfaWQgPSB0Mi5pZFxuICAgICAgTEVGVCBKT0lOIHRvdXJuYW1lbnRzIHRvdXIgT04gbS50b3VybmFtZW50X2lkID0gdG91ci5pZFxuICAgICAgV0hFUkUgbS5pZCA9ID9cbiAgICBgKS5nZXQoaWQpIGFzIGFueTtcblxuICAgIGlmICghcm93KSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcm93LmlkLFxuICAgICAgdmxyX21hdGNoX2lkOiByb3cudmxyX21hdGNoX2lkLFxuICAgICAgdGVhbTFfaWQ6IHJvdy50ZWFtMV9pZCxcbiAgICAgIHRlYW0yX2lkOiByb3cudGVhbTJfaWQsXG4gICAgICB0b3VybmFtZW50X2lkOiByb3cudG91cm5hbWVudF9pZCxcbiAgICAgIHN0YXR1czogcm93LnN0YXR1cyxcbiAgICAgIG1hdGNoX3RpbWU6IHJvdy5tYXRjaF90aW1lLFxuICAgICAgbWF0Y2hfZm9ybWF0OiByb3cubWF0Y2hfZm9ybWF0LFxuICAgICAgc3RhZ2U6IHJvdy5zdGFnZSxcbiAgICAgIHRlYW0xX3Njb3JlOiByb3cudGVhbTFfc2NvcmUsXG4gICAgICB0ZWFtMl9zY29yZTogcm93LnRlYW0yX3Njb3JlLFxuICAgICAgbWF0Y2hfdXJsOiByb3cubWF0Y2hfdXJsLFxuICAgICAgdm9kX3VybDogcm93LnZvZF91cmwsXG4gICAgICBzdGF0c191cmw6IHJvdy5zdGF0c191cmwsXG4gICAgICBtYXBzX2RhdGE6IHJvdy5tYXBzX2RhdGEgPyBKU09OLnBhcnNlKHJvdy5tYXBzX2RhdGEpIDogdW5kZWZpbmVkLFxuICAgICAgcGxheWVyX3N0YXRzOiByb3cucGxheWVyX3N0YXRzID8gSlNPTi5wYXJzZShyb3cucGxheWVyX3N0YXRzKSA6IHVuZGVmaW5lZCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdDogcm93LnVwZGF0ZWRfYXQsXG4gICAgICB0ZWFtMTogcm93LnRlYW0xX25hbWUgPyB7IGlkOiByb3cudGVhbTFfaWQsIG5hbWU6IHJvdy50ZWFtMV9uYW1lLCBmbGFnX3VybDogcm93LnRlYW0xX2ZsYWcsIGNyZWF0ZWRfYXQ6ICcnIH0gOiB1bmRlZmluZWQsXG4gICAgICB0ZWFtMjogcm93LnRlYW0yX25hbWUgPyB7IGlkOiByb3cudGVhbTJfaWQsIG5hbWU6IHJvdy50ZWFtMl9uYW1lLCBmbGFnX3VybDogcm93LnRlYW0yX2ZsYWcsIGNyZWF0ZWRfYXQ6ICcnIH0gOiB1bmRlZmluZWQsXG4gICAgICB0b3VybmFtZW50OiByb3cudG91cm5hbWVudF9uYW1lID8geyBpZDogcm93LnRvdXJuYW1lbnRfaWQsIG5hbWU6IHJvdy50b3VybmFtZW50X25hbWUsIGxvZ29fdXJsOiByb3cudG91cm5hbWVudF9sb2dvLCBjcmVhdGVkX2F0OiAnJyB9IDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuXG4gIC8vIEdldCBhbGwgdGVhbXNcbiAgZ2V0VGVhbXMoKTogVGVhbVtdIHtcbiAgICByZXR1cm4gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgKiBGUk9NIHRlYW1zIE9SREVSIEJZIG5hbWUnKS5hbGwoKSBhcyBUZWFtW107XG4gIH1cblxuICAvLyBHZXQgYWxsIHRvdXJuYW1lbnRzXG4gIGdldFRvdXJuYW1lbnRzKCk6IFRvdXJuYW1lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0b3VybmFtZW50cyBPUkRFUiBCWSBuYW1lJykuYWxsKCkgYXMgVG91cm5hbWVudFtdO1xuICB9XG5cbiAgLy8gTG9nIHNjcmFwaW5nIGFjdGl2aXR5XG4gIGxvZ1NjcmFwaW5nKHR5cGU6IHN0cmluZywgdXJsOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nLCBlcnJvck1lc3NhZ2U/OiBzdHJpbmcsIG1hdGNoZXNGb3VuZCA9IDApOiB2b2lkIHtcbiAgICB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgSU5TRVJUIElOVE8gc2NyYXBpbmdfbG9ncyAoc2NyYXBlX3R5cGUsIHVybCwgc3RhdHVzLCBlcnJvcl9tZXNzYWdlLCBtYXRjaGVzX2ZvdW5kKVxuICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxuICAgIGApLnJ1bih0eXBlLCB1cmwsIHN0YXR1cywgZXJyb3JNZXNzYWdlLCBtYXRjaGVzRm91bmQpO1xuICB9XG5cbiAgLy8gR2V0IHNjcmFwaW5nIGxvZ3NcbiAgZ2V0U2NyYXBpbmdMb2dzKGxpbWl0ID0gMjApOiBTY3JhcGluZ0xvZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIFNFTEVDVCAqIEZST00gc2NyYXBpbmdfbG9ncyBcbiAgICAgIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQyBcbiAgICAgIExJTUlUID9cbiAgICBgKS5hbGwobGltaXQpIGFzIFNjcmFwaW5nTG9nW107XG4gIH1cblxuICAvLyBDbGVhbiB0ZXh0IGNvbnRlbnQgYnkgcmVtb3ZpbmcgZXhjZXNzaXZlIHdoaXRlc3BhY2UgYW5kIFZMUiBhcnRpZmFjdHNcbiAgcHJpdmF0ZSBjbGVhblRleHRDb250ZW50KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDtcbiAgICBcbiAgICAvLyBSZW1vdmUgYWxsIGV4Y2Vzc2l2ZSB3aGl0ZXNwYWNlLCB0YWJzLCBhbmQgbmV3bGluZXNcbiAgICBsZXQgY2xlYW5lZCA9IHRleHQucmVwbGFjZSgvW1xcdFxcblxcclxcc10rL2csICcgJykudHJpbSgpO1xuICAgIFxuICAgIC8vIFJlbW92ZSBjb21tb24gVkxSLmdnIGFydGlmYWN0cyBhbmQgZm9ybWF0dGluZ1xuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL1xcYihQSUNLfEJBTnxERUNJREVSKVxcYi9naSwgJycpLnRyaW0oKTtcbiAgICBcbiAgICAvLyBSZW1vdmUgdGltZXN0YW1wcyAocGF0dGVybnMgbGlrZSBcIjE2OjMwXCIsIFwiNDc6MjFcIiwgZXRjLilcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXGJcXGR7MSwyfTpcXGR7Mn1cXGIvZywgJycpLnRyaW0oKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBhbnkgZG91YmxlIHNwYWNlcyB0aGF0IG1pZ2h0IHJlbWFpblxuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKS50cmltKCk7XG4gICAgXG4gICAgcmV0dXJuIGNsZWFuZWQ7XG4gIH1cblxuICAvLyBDbGVhbiB1cCBleGlzdGluZyBkYXRhYmFzZSByZWNvcmRzIHdpdGggZm9ybWF0dGluZyBpc3N1ZXNcbiAgY2xlYW5FeGlzdGluZ0RhdGEoKTogeyB0b3VybmFtZW50c1VwZGF0ZWQ6IG51bWJlcjsgdGVhbXNVcGRhdGVkOiBudW1iZXIgfSB7XG4gICAgY29uc29sZS5sb2coJ0NsZWFuaW5nIGV4aXN0aW5nIGRhdGFiYXNlIHJlY29yZHMuLi4nKTtcbiAgICBcbiAgICAvLyBDbGVhbiB0b3VybmFtZW50IG5hbWVzXG4gICAgY29uc3QgdG91cm5hbWVudHMgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBpZCwgbmFtZSBGUk9NIHRvdXJuYW1lbnRzJykuYWxsKCkgYXMgeyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfVtdO1xuICAgIGxldCB0b3VybmFtZW50c1VwZGF0ZWQgPSAwO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZVRvdXJuYW1lbnQgPSB0aGlzLmRiLnByZXBhcmUoJ1VQREFURSB0b3VybmFtZW50cyBTRVQgbmFtZSA9ID8gV0hFUkUgaWQgPSA/Jyk7XG4gICAgY29uc3QgY2hlY2tFeGlzdGluZyA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdG91cm5hbWVudHMgV0hFUkUgbmFtZSA9ID8gQU5EIGlkICE9ID8nKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHRvdXJuYW1lbnQgb2YgdG91cm5hbWVudHMpIHtcbiAgICAgIGNvbnN0IGNsZWFuZWROYW1lID0gdGhpcy5jbGVhblRleHRDb250ZW50KHRvdXJuYW1lbnQubmFtZSk7XG4gICAgICBpZiAoY2xlYW5lZE5hbWUgIT09IHRvdXJuYW1lbnQubmFtZSkge1xuICAgICAgICAvLyBDaGVjayBpZiBjbGVhbmVkIG5hbWUgd291bGQgY29uZmxpY3Qgd2l0aCBleGlzdGluZyB0b3VybmFtZW50XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gY2hlY2tFeGlzdGluZy5nZXQoY2xlYW5lZE5hbWUsIHRvdXJuYW1lbnQuaWQpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgICAgICBpZiAoZXhpc3RpbmcuY291bnQgPT09IDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdXBkYXRlVG91cm5hbWVudC5ydW4oY2xlYW5lZE5hbWUsIHRvdXJuYW1lbnQuaWQpO1xuICAgICAgICAgICAgdG91cm5hbWVudHNVcGRhdGVkKys7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyB0b3VybmFtZW50ICR7dG91cm5hbWVudC5pZH0gZHVlIHRvIGNvbnN0cmFpbnQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyB0b3VybmFtZW50ICR7dG91cm5hbWVudC5pZH0gLSBjbGVhbmVkIG5hbWUgd291bGQgY29uZmxpY3RgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhbiB0ZWFtIG5hbWVzICBcbiAgICBjb25zdCB0ZWFtcyA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIGlkLCBuYW1lIEZST00gdGVhbXMnKS5hbGwoKSBhcyB7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9W107XG4gICAgbGV0IHRlYW1zVXBkYXRlZCA9IDA7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlVGVhbSA9IHRoaXMuZGIucHJlcGFyZSgnVVBEQVRFIHRlYW1zIFNFVCBuYW1lID0gPyBXSEVSRSBpZCA9ID8nKTtcbiAgICBjb25zdCBjaGVja0V4aXN0aW5nVGVhbSA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdGVhbXMgV0hFUkUgbmFtZSA9ID8gQU5EIGlkICE9ID8nKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHRlYW0gb2YgdGVhbXMpIHtcbiAgICAgIGNvbnN0IGNsZWFuZWROYW1lID0gdGhpcy5jbGVhblRleHRDb250ZW50KHRlYW0ubmFtZSk7XG4gICAgICBpZiAoY2xlYW5lZE5hbWUgIT09IHRlYW0ubmFtZSkge1xuICAgICAgICAvLyBDaGVjayBpZiBjbGVhbmVkIG5hbWUgd291bGQgY29uZmxpY3Qgd2l0aCBleGlzdGluZyB0ZWFtXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gY2hlY2tFeGlzdGluZ1RlYW0uZ2V0KGNsZWFuZWROYW1lLCB0ZWFtLmlkKSBhcyB7IGNvdW50OiBudW1iZXIgfTtcbiAgICAgICAgaWYgKGV4aXN0aW5nLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHVwZGF0ZVRlYW0ucnVuKGNsZWFuZWROYW1lLCB0ZWFtLmlkKTtcbiAgICAgICAgICAgIHRlYW1zVXBkYXRlZCsrO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgU2tpcHBpbmcgdGVhbSAke3RlYW0uaWR9IGR1ZSB0byBjb25zdHJhaW50OiAke2Vycm9yfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2tpcHBpbmcgdGVhbSAke3RlYW0uaWR9IC0gY2xlYW5lZCBuYW1lIHdvdWxkIGNvbmZsaWN0YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYENsZWFuZWQgJHt0b3VybmFtZW50c1VwZGF0ZWR9IHRvdXJuYW1lbnRzIGFuZCAke3RlYW1zVXBkYXRlZH0gdGVhbXNgKTtcbiAgICByZXR1cm4geyB0b3VybmFtZW50c1VwZGF0ZWQsIHRlYW1zVXBkYXRlZCB9O1xuICB9XG5cbiAgLy8gR2V0IGRhdGFiYXNlIHN0YXRpc3RpY3NcbiAgZ2V0U3RhdHMoKSB7XG4gICAgY29uc3QgbWF0Y2hDb3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gbWF0Y2hlcycpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IGxpdmVDb3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gbWF0Y2hlcyBXSEVSRSBzdGF0dXMgPSBcImxpdmVcIicpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IHVwY29taW5nQ291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIG1hdGNoZXMgV0hFUkUgc3RhdHVzID0gXCJ1cGNvbWluZ1wiJykuZ2V0KCkgYXMgeyBjb3VudDogbnVtYmVyIH07XG4gICAgY29uc3QgY29tcGxldGVkQ291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIG1hdGNoZXMgV0hFUkUgc3RhdHVzID0gXCJjb21wbGV0ZWRcIicpLmdldCgpIGFzIHsgY291bnQ6IG51bWJlciB9O1xuICAgIGNvbnN0IHRlYW1Db3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdGVhbXMnKS5nZXQoKSBhcyB7IGNvdW50OiBudW1iZXIgfTtcbiAgICBjb25zdCB0b3VybmFtZW50Q291bnQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHRvdXJuYW1lbnRzJykuZ2V0KCkgYXMgeyBjb3VudDogbnVtYmVyIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxfbWF0Y2hlczogbWF0Y2hDb3VudC5jb3VudCxcbiAgICAgIGxpdmVfbWF0Y2hlczogbGl2ZUNvdW50LmNvdW50LFxuICAgICAgdXBjb21pbmdfbWF0Y2hlczogdXBjb21pbmdDb3VudC5jb3VudCxcbiAgICAgIGNvbXBsZXRlZF9tYXRjaGVzOiBjb21wbGV0ZWRDb3VudC5jb3VudCxcbiAgICAgIHRvdGFsX3RlYW1zOiB0ZWFtQ291bnQuY291bnQsXG4gICAgICB0b3RhbF90b3VybmFtZW50czogdG91cm5hbWVudENvdW50LmNvdW50XG4gICAgfTtcbiAgfVxufSJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInBhdGgiLCJkYiIsImdldERhdGFiYXNlIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJwcmFnbWEiLCJpbml0aWFsaXplU2NoZW1hIiwiZXhlYyIsIkRhdGFiYXNlU2VydmljZSIsImNvbnN0cnVjdG9yIiwiZ2V0T3JDcmVhdGVUZWFtIiwibmFtZSIsImZsYWdVcmwiLCJsb2dvVXJsIiwidG9Mb3dlckNhc2UiLCJFcnJvciIsImV4aXN0aW5nIiwicHJlcGFyZSIsImdldCIsInJlc3VsdCIsInJ1biIsImlkIiwibGFzdEluc2VydFJvd2lkIiwiZmxhZ191cmwiLCJsb2dvX3VybCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZXRPckNyZWF0ZVRvdXJuYW1lbnQiLCJzYXZlTWF0Y2giLCJtYXRjaERhdGEiLCJ0cmFuc2FjdGlvbiIsInRlYW0xIiwidGVhbTIiLCJ0b3VybmFtZW50IiwidGVhbTFfbmFtZSIsInRlYW0yX25hbWUiLCJ0b3VybmFtZW50X25hbWUiLCJ2bHJfbWF0Y2hfaWQiLCJub3ciLCJzdGF0dXMiLCJtYXRjaF90aW1lIiwibWF0Y2hfZm9ybWF0Iiwic3RhZ2UiLCJ0ZWFtMV9zY29yZSIsInRlYW0yX3Njb3JlIiwibWF0Y2hfdXJsIiwidm9kX3VybCIsInN0YXRzX3VybCIsIm1hcHNfZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwbGF5ZXJfc3RhdHMiLCJ1cGRhdGVkX2F0IiwidGVhbTFfaWQiLCJ0ZWFtMl9pZCIsInRvdXJuYW1lbnRfaWQiLCJnZXRNYXRjaGVzIiwibGltaXQiLCJvZmZzZXQiLCJxdWVyeSIsInBhcmFtcyIsInB1c2giLCJjb3VudFF1ZXJ5IiwidG90YWxSZXN1bHQiLCJyb3dzIiwiYWxsIiwibWF0Y2hlcyIsIm1hcCIsInJvdyIsInBhcnNlIiwidW5kZWZpbmVkIiwidGVhbTFfZmxhZyIsInRlYW0yX2ZsYWciLCJ0b3VybmFtZW50X2xvZ28iLCJ0b3RhbCIsImNvdW50IiwiZ2V0TWF0Y2giLCJnZXRUZWFtcyIsImdldFRvdXJuYW1lbnRzIiwibG9nU2NyYXBpbmciLCJ0eXBlIiwidXJsIiwiZXJyb3JNZXNzYWdlIiwibWF0Y2hlc0ZvdW5kIiwiZ2V0U2NyYXBpbmdMb2dzIiwiY2xlYW5UZXh0Q29udGVudCIsInRleHQiLCJjbGVhbmVkIiwicmVwbGFjZSIsInRyaW0iLCJjbGVhbkV4aXN0aW5nRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJ0b3VybmFtZW50cyIsInRvdXJuYW1lbnRzVXBkYXRlZCIsInVwZGF0ZVRvdXJuYW1lbnQiLCJjaGVja0V4aXN0aW5nIiwiY2xlYW5lZE5hbWUiLCJlcnJvciIsInRlYW1zIiwidGVhbXNVcGRhdGVkIiwidXBkYXRlVGVhbSIsImNoZWNrRXhpc3RpbmdUZWFtIiwidGVhbSIsImdldFN0YXRzIiwibWF0Y2hDb3VudCIsImxpdmVDb3VudCIsInVwY29taW5nQ291bnQiLCJjb21wbGV0ZWRDb3VudCIsInRlYW1Db3VudCIsInRvdXJuYW1lbnRDb3VudCIsInRvdGFsX21hdGNoZXMiLCJsaXZlX21hdGNoZXMiLCJ1cGNvbWluZ19tYXRjaGVzIiwiY29tcGxldGVkX21hdGNoZXMiLCJ0b3RhbF90ZWFtcyIsInRvdGFsX3RvdXJuYW1lbnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmatches%2Froute&page=%2Fapi%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatches%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();